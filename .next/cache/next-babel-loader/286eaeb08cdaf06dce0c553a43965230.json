{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\pages\\\\story\\\\[id]\\\\chapter\\\\[chapid]\\\\index.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { connect } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport { Row, Col, Divider, Space, PageHeader, Tooltip } from \"antd\";\nimport { dummy } from \"../../../../../utils/dummy\";\nimport { useAuth } from \"../../../../../hooks/userHooks\";\nimport { getChapter } from \"../../../../../redux/actions/storiesActions\";\nimport Comments from \"../../../../../components/chapter/Comments\";\nimport CharacterCard from \"../../../../../components/common/CharacterCard\";\nimport LocationCard from \"../../../../../components/common/LocationCard\";\nimport LoadingScreen from \"../../../../../components/hoc/LoadingScreen\";\n\nconst Chapter = props => {\n  const router = useRouter();\n  const auth = useAuth();\n  const {\n    loading,\n    chapter\n  } = props;\n  const [characters, setCharacters] = React.useState([]);\n  React.useEffect(() => {\n    props.getChapter(router.query.id, router.query.chapid, \"show\");\n  }, [router.query.id, router.query.chapid]);\n  React.useEffect(() => {\n    if (chapter.characters) {\n      setCharacters(chapter.characters.filter(c => c.public || c.authorId === auth.user.uid));\n    }\n  }, [chapter]);\n  return __jsx(LoadingScreen, {\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"main-chapter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"chapter-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, __jsx(Tooltip, {\n    title: \"Next Chapter\",\n    placement: \"bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"icon custom-icon nav-btn next-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, __jsx(\"ion-icon\", {\n    name: \"chevron-forward-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }))), __jsx(Tooltip, {\n    title: \"Previous Chapter\",\n    placement: \"bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"icon custom-icon nav-btn prev-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, __jsx(\"ion-icon\", {\n    name: \"chevron-back-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }))), __jsx(PageHeader, {\n    className: \"site-page-header\",\n    onBack: () => router.push(`/story/${router.query.id}`),\n    title: \"Back to story\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, chapter.number, \". \", chapter.title), __jsx(\"div\", {\n    className: \"meta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, __jsx(Divider, {\n    orientation: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    href: \"/profile/1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, __jsx(Space, {\n    direction: \"vertical\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    src: dummy.person,\n    alt: dummy.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }\n  })), __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, chapter.authorName)))))), __jsx(\"section\", {\n    className: \"chapter-content\",\n    dangerouslySetInnerHTML: {\n      __html: chapter.body\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }), __jsx(Comments, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    className: \"main-chapter-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Locations in this chapter\"))));\n};\n\nconst mapStateToProps = state => ({\n  chapter: state.stories.chapter,\n  loading: state.stories.loading\n});\n\nexport default connect(mapStateToProps, {\n  getChapter\n})(Chapter);","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/pages/story/[id]/chapter/[chapid]/index.js"],"names":["React","Link","connect","useRouter","Row","Col","Divider","Space","PageHeader","Tooltip","dummy","useAuth","getChapter","Comments","CharacterCard","LocationCard","LoadingScreen","Chapter","props","router","auth","loading","chapter","characters","setCharacters","useState","useEffect","query","id","chapid","filter","c","public","authorId","user","uid","push","number","title","person","name","authorName","__html","body","mapStateToProps","state","stories"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,OAAnB,EAA4BC,KAA5B,EAAmCC,UAAnC,EAA+CC,OAA/C,QAA8D,MAA9D;AAEA,SAASC,KAAT,QAAsB,4BAAtB;AACA,SAASC,OAAT,QAAwB,gCAAxB;AACA,SAASC,UAAT,QAA2B,6CAA3B;AAEA,OAAOC,QAAP,MAAqB,4CAArB;AACA,OAAOC,aAAP,MAA0B,gDAA1B;AACA,OAAOC,YAAP,MAAyB,+CAAzB;AACA,OAAOC,aAAP,MAA0B,6CAA1B;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AACzB,QAAMC,MAAM,GAAGhB,SAAS,EAAxB;AACA,QAAMiB,IAAI,GAAGT,OAAO,EAApB;AACA,QAAM;AAAEU,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAuBJ,KAA7B;AAEA,QAAM,CAACK,UAAD,EAAaC,aAAb,IAA8BxB,KAAK,CAACyB,QAAN,CAAe,EAAf,CAApC;AAEAzB,EAAAA,KAAK,CAAC0B,SAAN,CAAgB,MAAM;AACpBR,IAAAA,KAAK,CAACN,UAAN,CAAiBO,MAAM,CAACQ,KAAP,CAAaC,EAA9B,EAAkCT,MAAM,CAACQ,KAAP,CAAaE,MAA/C,EAAuD,MAAvD;AACD,GAFD,EAEG,CAACV,MAAM,CAACQ,KAAP,CAAaC,EAAd,EAAkBT,MAAM,CAACQ,KAAP,CAAaE,MAA/B,CAFH;AAIA7B,EAAAA,KAAK,CAAC0B,SAAN,CAAgB,MAAM;AACpB,QAAIJ,OAAO,CAACC,UAAZ,EAAwB;AACtBC,MAAAA,aAAa,CACXF,OAAO,CAACC,UAAR,CAAmBO,MAAnB,CACGC,CAAD,IAAOA,CAAC,CAACC,MAAF,IAAYD,CAAC,CAACE,QAAF,KAAeb,IAAI,CAACc,IAAL,CAAUC,GAD9C,CADW,CAAb;AAKD;AACF,GARD,EAQG,CAACb,OAAD,CARH;AAUA,SACE,MAAC,aAAD;AAAe,IAAA,OAAO,EAAED,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAS,IAAA,KAAK,EAAC,cAAf;AAA8B,IAAA,SAAS,EAAC,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAU,IAAA,IAAI,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,EAME,MAAC,OAAD;AAAS,IAAA,KAAK,EAAC,kBAAf;AAAkC,IAAA,SAAS,EAAC,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAU,IAAA,IAAI,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CANF,EAWE,MAAC,UAAD;AACE,IAAA,SAAS,EAAC,kBADZ;AAEE,IAAA,MAAM,EAAE,MAAMF,MAAM,CAACiB,IAAP,CAAa,UAASjB,MAAM,CAACQ,KAAP,CAAaC,EAAG,EAAtC,CAFhB;AAGE,IAAA,KAAK,EAAC,eAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,OAAO,CAACe,MADX,QACqBf,OAAO,CAACgB,KAD7B,CAhBF,EAmBE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAS,IAAA,WAAW,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,SAAS,EAAC,UAAjB;AAA4B,IAAA,KAAK,EAAC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAE5B,KAAK,CAAC6B,MAAhB;AAAwB,IAAA,GAAG,EAAE7B,KAAK,CAAC8B,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKlB,OAAO,CAACmB,UAAb,CAJF,CADF,CADF,CADF,CADF,CAnBF,EAiCE;AACE,IAAA,SAAS,EAAC,iBADZ;AAEE,IAAA,uBAAuB,EAAE;AAAEC,MAAAA,MAAM,EAAEpB,OAAO,CAACqB;AAAlB,KAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjCF,EAqCE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArCF,EAsCE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtCF,CADF,EAyCE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAgBE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,EAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAjBF,CAzCF,CADF,CADF;AA+ED,CApGD;;AAsGA,MAAMC,eAAe,GAAIC,KAAD,KAAY;AAClCvB,EAAAA,OAAO,EAAEuB,KAAK,CAACC,OAAN,CAAcxB,OADW;AAElCD,EAAAA,OAAO,EAAEwB,KAAK,CAACC,OAAN,CAAczB;AAFW,CAAZ,CAAxB;;AAKA,eAAenB,OAAO,CAAC0C,eAAD,EAAkB;AAAEhC,EAAAA;AAAF,CAAlB,CAAP,CAAyCK,OAAzC,CAAf","sourcesContent":["import React from \"react\";\r\nimport Link from \"next/link\";\r\nimport { connect } from \"react-redux\";\r\nimport { useRouter } from \"next/router\";\r\nimport { Row, Col, Divider, Space, PageHeader, Tooltip } from \"antd\";\r\n\r\nimport { dummy } from \"../../../../../utils/dummy\";\r\nimport { useAuth } from \"../../../../../hooks/userHooks\";\r\nimport { getChapter } from \"../../../../../redux/actions/storiesActions\";\r\n\r\nimport Comments from \"../../../../../components/chapter/Comments\";\r\nimport CharacterCard from \"../../../../../components/common/CharacterCard\";\r\nimport LocationCard from \"../../../../../components/common/LocationCard\";\r\nimport LoadingScreen from \"../../../../../components/hoc/LoadingScreen\";\r\n\r\nconst Chapter = (props) => {\r\n  const router = useRouter();\r\n  const auth = useAuth();\r\n  const { loading, chapter } = props;\r\n\r\n  const [characters, setCharacters] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    props.getChapter(router.query.id, router.query.chapid, \"show\");\r\n  }, [router.query.id, router.query.chapid]);\r\n\r\n  React.useEffect(() => {\r\n    if (chapter.characters) {\r\n      setCharacters(\r\n        chapter.characters.filter(\r\n          (c) => c.public || c.authorId === auth.user.uid\r\n        )\r\n      );\r\n    }\r\n  }, [chapter]);\r\n\r\n  return (\r\n    <LoadingScreen loading={loading}>\r\n      <div className=\"main-chapter\">\r\n        <div className=\"chapter-page\">\r\n          <Tooltip title=\"Next Chapter\" placement=\"bottom\">\r\n            <div className=\"icon custom-icon nav-btn next-btn\">\r\n              <ion-icon name=\"chevron-forward-circle\"></ion-icon>\r\n            </div>\r\n          </Tooltip>\r\n          <Tooltip title=\"Previous Chapter\" placement=\"bottom\">\r\n            <div className=\"icon custom-icon nav-btn prev-btn\">\r\n              <ion-icon name=\"chevron-back-circle\"></ion-icon>\r\n            </div>\r\n          </Tooltip>\r\n          <PageHeader\r\n            className=\"site-page-header\"\r\n            onBack={() => router.push(`/story/${router.query.id}`)}\r\n            title=\"Back to story\"\r\n          />\r\n          <h2>\r\n            {chapter.number}. {chapter.title}\r\n          </h2>\r\n          <div className=\"meta\">\r\n            <Divider orientation=\"left\">\r\n              <Link href=\"/profile/1\">\r\n                <a>\r\n                  <Space direction=\"vertical\" align=\"center\">\r\n                    <div className=\"avatar\">\r\n                      <img src={dummy.person} alt={dummy.name} />\r\n                    </div>\r\n                    <h5>{chapter.authorName}</h5>\r\n                  </Space>\r\n                </a>\r\n              </Link>\r\n            </Divider>\r\n          </div>\r\n          <section\r\n            className=\"chapter-content\"\r\n            dangerouslySetInnerHTML={{ __html: chapter.body }}\r\n          ></section>\r\n          <Divider />\r\n          <Comments />\r\n        </div>\r\n        <div className=\"main-chapter-details\">\r\n          {/*  <h3>Characters in this chapter</h3>\r\n        <Row gutter={[12, 12]}>\r\n          <Col md={12}>\r\n            <CharacterCard />\r\n          </Col>\r\n          <Col md={12}>\r\n            <CharacterCard />\r\n          </Col>\r\n          <Col md={12}>\r\n            <CharacterCard />\r\n          </Col>\r\n          <Col md={12}>\r\n            <CharacterCard />\r\n          </Col>\r\n  </Row> */}\r\n          <Divider />\r\n          <h3>Locations in this chapter</h3>\r\n          {/* <Row gutter={[12, 12]}>\r\n          <Col md={12}>\r\n            <LocationCard />\r\n          </Col>\r\n          <Col md={12}>\r\n            <LocationCard />\r\n          </Col>\r\n          <Col md={12}>\r\n            <LocationCard />\r\n          </Col>\r\n          <Col md={12}>\r\n            <LocationCard />\r\n          </Col>\r\n        </Row>*/}\r\n        </div>\r\n      </div>\r\n    </LoadingScreen>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  chapter: state.stories.chapter,\r\n  loading: state.stories.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getChapter })(Chapter);\r\n"]},"metadata":{},"sourceType":"module"}