{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\components\\\\profile\\\\Settings.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { Form, Tabs, Input, Modal, Button, Upload, message } from \"antd\";\nimport { LockOutlined, UserOutlined, LinkOutlined, FileImageOutlined, LoadingOutlined, PlusOutlined, StarOutlined } from \"@ant-design/icons\";\nimport LinkComp from \"./LinkComp\";\nvar TabPane = Tabs.TabPane;\n\nfunction getBase64(img, callback) {\n  var reader = new FileReader();\n  reader.addEventListener(\"load\", function () {\n    return callback(reader.result);\n  });\n  reader.readAsDataURL(img);\n}\n\nfunction beforeUpload(file) {\n  var isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\n\n  if (!isJpgOrPng) {\n    message.error(\"You can only upload JPG/PNG file!\");\n  }\n\n  var isLt2M = file.size / 1024 / 1024 < 2;\n\n  if (!isLt2M) {\n    message.error(\"Image must smaller than 2MB!\");\n  }\n\n  return isJpgOrPng && isLt2M;\n}\n\nvar Settings = function Settings(_ref) {\n  _s();\n\n  var _jsx;\n\n  var profile = _ref.profile,\n      openSettings = _ref.openSettings,\n      setOpenSettings = _ref.setOpenSettings;\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      info = _React$useState2[0],\n      setInfo = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      imageUrl = _React$useState4[0],\n      setImageUrl = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      loading = _React$useState6[0],\n      setLoading = _React$useState6[1];\n\n  var handleChange = function handleChange(info) {\n    if (info.file.status === \"uploading\") {\n      setLoading(true);\n      return;\n    }\n\n    if (info.file.status === \"done\") {\n      getBase64(info.file.originFileObj, function (imageUrl) {\n        setLoading(false);\n        setInfo(_objectSpread(_objectSpread({}, info), {}, {\n          image: info.file.originFileObj\n        }));\n        setImageUrl(imageUrl);\n      });\n    }\n  };\n\n  var uploadButton = __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, loading ? __jsx(LoadingOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 18\n    }\n  }) : __jsx(PlusOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 40\n    }\n  }), __jsx(\"div\", {\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Upload\"));\n\n  React.useEffect(function () {\n    if (profile) {\n      setImageUrl(profile.image);\n      setInfo({\n        username: profile.username,\n        instagram: {\n          value: profile.instagram,\n          errors: \"\"\n        },\n        facebook: {\n          value: profile.facebook,\n          errors: \"\"\n        },\n        twitter: {\n          value: profile.twitter,\n          errors: \"\"\n        },\n        deviantart: {\n          value: profile.deviantart,\n          errors: \"\"\n        },\n        image: profile.image\n      });\n    }\n  }, [profile]);\n  console.log(info);\n  return __jsx(React.Fragment, null, __jsx(Modal, {\n    title: \"Settings\",\n    visible: openSettings,\n    onOk: function onOk() {\n      return console.log(form.getFieldsValue());\n    },\n    onCancel: function onCancel() {\n      return openSettings(false);\n    },\n    footer: [__jsx(Button, {\n      key: \"submit\",\n      type: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, \"Submit changes\")],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"settings\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, __jsx(Tabs, {\n    defaultActiveKey: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, __jsx(UserOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }), \"Username\"),\n    key: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, __jsx(Input, {\n    addonBefore: \"Username\",\n    onChange: function onChange(e) {\n      return setInfo(_objectSpread(_objectSpread({}, info), {}, {\n        username: e.target.value\n      }));\n    },\n    value: info.username,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  })), __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, __jsx(LockOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }), \"Password\"),\n    key: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    label: \"Actual password\",\n    name: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, __jsx(Input.Password, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  })), __jsx(Form.Item, {\n    label: \"New password\",\n    name: \"confirm-password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, __jsx(Input.Password, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }))), __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, __jsx(LinkOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }), \"Links\"),\n    key: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, __jsx(LinkComp, {\n    setInfo: setInfo,\n    info: info,\n    name: \"facebook\",\n    label: \"Facebook\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    style: {\n      margin: \"10px 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }), __jsx(LinkComp, {\n    setInfo: setInfo,\n    info: info,\n    name: \"twitter\",\n    label: \"Twitter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    style: {\n      margin: \"10px 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }), __jsx(LinkComp, {\n    setInfo: setInfo,\n    info: info,\n    name: \"instagram\",\n    label: \"Instagram\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    style: {\n      margin: \"10px 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }), __jsx(LinkComp, {\n    setInfo: setInfo,\n    info: info,\n    name: \"deviantart\",\n    label: \"Deviantart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    style: {\n      margin: \"10px 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  })), __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, __jsx(FileImageOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }), \"Avatar\"),\n    key: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, __jsx(Upload, (_jsx = {\n    showUploadList: {\n      showRemoveIcon: true,\n      removeIcon: __jsx(StarOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 31\n        }\n      })\n    },\n    listType: \"picture-card\",\n    className: \"cover-uploader\"\n  }, _defineProperty(_jsx, \"showUploadList\", true), _defineProperty(_jsx, \"beforeUpload\", beforeUpload), _defineProperty(_jsx, \"onChange\", handleChange), _defineProperty(_jsx, \"maxCount\", 1), _defineProperty(_jsx, \"__self\", _this), _defineProperty(_jsx, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 15\n  }), _jsx), imageUrl ? __jsx(\"img\", {\n    src: imageUrl,\n    alt: \"image\",\n    style: {\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 19\n    }\n  }) : uploadButton))))));\n};\n\n_s(Settings, \"seUqZAfyt4+viaMvdlg3LbIKF48=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = Settings;\nexport default Settings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/components/profile/Settings.js"],"names":["React","Form","Tabs","Input","Modal","Button","Upload","message","LockOutlined","UserOutlined","LinkOutlined","FileImageOutlined","LoadingOutlined","PlusOutlined","StarOutlined","LinkComp","TabPane","getBase64","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","beforeUpload","file","isJpgOrPng","type","error","isLt2M","size","Settings","profile","openSettings","setOpenSettings","useForm","form","useState","info","setInfo","imageUrl","setImageUrl","loading","setLoading","handleChange","status","originFileObj","image","uploadButton","marginTop","useEffect","username","instagram","value","errors","facebook","twitter","deviantart","console","log","getFieldsValue","e","target","margin","showRemoveIcon","removeIcon","width","height","objectFit"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Form, Tabs, Input, Modal, Button, Upload, message } from \"antd\";\r\nimport {\r\n  LockOutlined,\r\n  UserOutlined,\r\n  LinkOutlined,\r\n  FileImageOutlined,\r\n  LoadingOutlined,\r\n  PlusOutlined,\r\n  StarOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport LinkComp from \"./LinkComp\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction getBase64(img, callback) {\r\n  const reader = new FileReader();\r\n  reader.addEventListener(\"load\", () => callback(reader.result));\r\n  reader.readAsDataURL(img);\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n  const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n  if (!isJpgOrPng) {\r\n    message.error(\"You can only upload JPG/PNG file!\");\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 2;\r\n  if (!isLt2M) {\r\n    message.error(\"Image must smaller than 2MB!\");\r\n  }\r\n  return isJpgOrPng && isLt2M;\r\n}\r\n\r\nconst Settings = ({ profile, openSettings, setOpenSettings }) => {\r\n  const [form] = Form.useForm();\r\n  const [info, setInfo] = React.useState({});\r\n  const [imageUrl, setImageUrl] = React.useState(\"\");\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const handleChange = (info) => {\r\n    if (info.file.status === \"uploading\") {\r\n      setLoading(true);\r\n      return;\r\n    }\r\n    if (info.file.status === \"done\") {\r\n      getBase64(info.file.originFileObj, (imageUrl) => {\r\n        setLoading(false);\r\n        setInfo({ ...info, image: info.file.originFileObj });\r\n        setImageUrl(imageUrl);\r\n      });\r\n    }\r\n  };\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (profile) {\r\n      setImageUrl(profile.image);\r\n      setInfo({\r\n        username: profile.username,\r\n        instagram: { value: profile.instagram, errors: \"\" },\r\n        facebook: { value: profile.facebook, errors: \"\" },\r\n        twitter: { value: profile.twitter, errors: \"\" },\r\n        deviantart: { value: profile.deviantart, errors: \"\" },\r\n        image: profile.image,\r\n      });\r\n    }\r\n  }, [profile]);\r\n\r\n  console.log(info);\r\n  return (\r\n    <>\r\n      <Modal\r\n        title=\"Settings\"\r\n        visible={openSettings}\r\n        onOk={() => console.log(form.getFieldsValue())}\r\n        onCancel={() => openSettings(false)}\r\n        footer={[\r\n          <Button key=\"submit\" type=\"primary\">\r\n            Submit changes\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <div className=\"settings\">\r\n          <Tabs defaultActiveKey=\"1\">\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <UserOutlined />\r\n                  Username\r\n                </span>\r\n              }\r\n              key=\"1\"\r\n            >\r\n              <Input\r\n                addonBefore={\"Username\"}\r\n                onChange={(e) => setInfo({ ...info, username: e.target.value })}\r\n                value={info.username}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <LockOutlined />\r\n                  Password\r\n                </span>\r\n              }\r\n              key=\"2\"\r\n            >\r\n              <Form.Item label=\"Actual password\" name=\"password\">\r\n                <Input.Password />\r\n              </Form.Item>\r\n              <Form.Item label=\"New password\" name=\"confirm-password\">\r\n                <Input.Password />\r\n              </Form.Item>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <LinkOutlined />\r\n                  Links\r\n                </span>\r\n              }\r\n              key=\"3\"\r\n            >\r\n              <LinkComp\r\n                setInfo={setInfo}\r\n                info={info}\r\n                name={\"facebook\"}\r\n                label={\"Facebook\"}\r\n              />\r\n              <div style={{ margin: \"10px 0\" }}></div>\r\n              <LinkComp\r\n                setInfo={setInfo}\r\n                info={info}\r\n                name={\"twitter\"}\r\n                label={\"Twitter\"}\r\n              />\r\n              <div style={{ margin: \"10px 0\" }}></div>\r\n              <LinkComp\r\n                setInfo={setInfo}\r\n                info={info}\r\n                name={\"instagram\"}\r\n                label={\"Instagram\"}\r\n              />\r\n              <div style={{ margin: \"10px 0\" }}></div>\r\n              <LinkComp\r\n                setInfo={setInfo}\r\n                info={info}\r\n                name={\"deviantart\"}\r\n                label={\"Deviantart\"}\r\n              />\r\n              <div style={{ margin: \"10px 0\" }}></div>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <FileImageOutlined />\r\n                  Avatar\r\n                </span>\r\n              }\r\n              key=\"4\"\r\n            >\r\n              <Upload\r\n                showUploadList={{\r\n                  showRemoveIcon: true,\r\n                  removeIcon: <StarOutlined />,\r\n                }}\r\n                listType=\"picture-card\"\r\n                className=\"cover-uploader\"\r\n                showUploadList={true}\r\n                beforeUpload={beforeUpload}\r\n                onChange={handleChange}\r\n                maxCount={1}\r\n              >\r\n                {imageUrl ? (\r\n                  <img\r\n                    src={imageUrl}\r\n                    alt=\"image\"\r\n                    style={{\r\n                      width: \"100%\",\r\n                      height: \"100%\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  uploadButton\r\n                )}\r\n              </Upload>\r\n            </TabPane>\r\n          </Tabs>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"]},"metadata":{},"sourceType":"module"}