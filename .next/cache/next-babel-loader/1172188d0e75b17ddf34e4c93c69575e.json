{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\components\\\\forms\\\\StoryForm.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { Row, Col, Divider, Form, Spin, Input, Select, message } from \"antd\";\nimport isImageUrl from \"is-image-url\";\nimport { CATEGORIES, COPYRIGHTS, LANGUAGES, STATUS } from \"../../utils/constants\";\nimport Tags from \"../../components/forms/Tags\";\nimport UploadImage from \"../../components/forms/UploadImage\";\nimport RadioButton from \"../../components/forms/RadioButton\";\nvar Option = Select.Option;\n\nvar StoryForm = function StoryForm(_ref) {\n  _s();\n\n  var _form$getFieldValue3, _characters$filter;\n\n  var type = _ref.type,\n      story = _ref.story,\n      form = _ref.form,\n      submit = _ref.submit,\n      loading = _ref.loading,\n      storyId = _ref.storyId,\n      characters = _ref.characters,\n      mature = _ref.mature,\n      setMature = _ref.setMature,\n      visibility = _ref.visibility,\n      setVisibility = _ref.setVisibility,\n      loadingStory = _ref.loadingStory;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      linkVisible = _React$useState2[0],\n      setLinkVisible = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      uploadVisible = _React$useState4[0],\n      setUploadVisible = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      currentChar = _React$useState6[0],\n      setCurrentChar = _React$useState6[1];\n\n  var _React$useState7 = React.useState(characters.filter(function (c) {\n    return story.mainCharacters.includes(c.id);\n  }) || []),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      selectedCharacters = _React$useState8[0],\n      setSelectedCharacters = _React$useState8[1];\n\n  var filterSort = function filterSort(a, b) {\n    var keyA = a.name,\n        keyB = b.name;\n    if (keyA < keyB) return -1;\n    if (keyA > keyB) return 1;\n    return 0;\n  };\n\n  var onFailed = function onFailed() {\n    window.scrollTo(0, 0);\n    message.error(\"There are some errors\");\n  };\n\n  var addCharacter = function addCharacter() {\n    var _form$getFieldValue, _form$getFieldValue2;\n\n    if (currentChar && ((_form$getFieldValue = form.getFieldValue(\"mainCharacters\")) === null || _form$getFieldValue === void 0 ? void 0 : _form$getFieldValue.indexOf(currentChar)) === -1 && ((_form$getFieldValue2 = form.getFieldValue(\"mainCharacters\")) === null || _form$getFieldValue2 === void 0 ? void 0 : _form$getFieldValue2.length) < 5) {\n      setSelectedCharacters([].concat(_toConsumableArray(selectedCharacters), [characters.find(function (c) {\n        return c.id === currentChar;\n      })]));\n      form.setFieldsValue({\n        mainCharacters: [].concat(_toConsumableArray(form.getFieldValue(\"mainCharacters\")), [currentChar])\n      });\n    }\n\n    setCurrentChar(\"\");\n    form.setFieldsValue({\n      currentChar: \"\"\n    });\n  };\n\n  var removeCharacter = function removeCharacter(id) {\n    form.setFieldsValue({\n      mainCharacters: form.getFieldValue(\"mainCharacters\").filter(function (c) {\n        return c !== id;\n      })\n    });\n    setSelectedCharacters(selectedCharacters.filter(function (c) {\n      return c.id !== id;\n    }));\n  };\n\n  var showLink = function showLink() {\n    form.setFieldsValue({\n      banner: null\n    });\n    setLinkVisible(true);\n    setUploadVisible(false);\n  };\n\n  var showUpload = function showUpload() {\n    form.setFieldsValue({\n      banner: null\n    });\n    setLinkVisible(false);\n    setUploadVisible(true);\n  };\n\n  return __jsx(\"div\", {\n    className: \"new-story custom-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"inner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    className: \"side-heading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"\".concat(type, \" \").concat(type === \"add\" && \"a new\", \" story \").concat(type === \"edit\" ? \":\" : \"\", \" \").concat(type === \"edit\" ? story.title : \"\")), __jsx(Form, {\n    layout: \"vertical\",\n    scrollToFirstError: true,\n    onFinishFailed: onFailed,\n    onFinish: submit,\n    form: form,\n    initialValues: type === \"add\" ? {\n      summary: \"\",\n      mature: false,\n      \"public\": true,\n      banner: \"\",\n      mainCharacters: [],\n      tags: [],\n      title: \"\",\n      categories: [],\n      copyright: \"\",\n      language: \"\",\n      status: \"\",\n      imageCopyright: \"\"\n    } : _objectSpread({}, story),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    gutter: [24, 24],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    sm: 24,\n    xs: 24,\n    md: 18,\n    lg: 18,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    colon: false,\n    name: \"title\",\n    rules: [{\n      required: true,\n      message: \"A title is required\"\n    }, {\n      max: 65\n    }],\n    label: \"Title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, __jsx(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }))), __jsx(Col, {\n    sm: 24,\n    xs: 24,\n    lg: 6,\n    md: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    name: \"categories\",\n    label: \"Categories\",\n    rules: [{\n      required: true,\n      message: \"At least 1 category is required\"\n    }, {\n      max: 2,\n      type: \"array\",\n      message: \"You can only select up to 2 categories\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, __jsx(Select, {\n    mode: \"multiple\",\n    allowClear: true,\n    maxTagCount: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, CATEGORIES === null || CATEGORIES === void 0 ? void 0 : CATEGORIES.sort(function (a, b) {\n    var keyA = a.name,\n        keyB = b.name; // Compare the 2 dates\n\n    if (keyA < keyB) return -1;\n    if (keyA > keyB) return 1;\n    return 0;\n  }).map(function (cat) {\n    return __jsx(Option, {\n      value: cat.value,\n      key: cat.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, cat.name);\n  }))))), __jsx(Row, {\n    gutter: [24, 24],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    md: 8,\n    sm: 24,\n    xs: 24,\n    lg: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    name: \"language\",\n    label: \"Language\",\n    rules: [{\n      required: true,\n      message: \"A language is required\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, __jsx(Select, {\n    filterSort: filterSort,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, LANGUAGES === null || LANGUAGES === void 0 ? void 0 : LANGUAGES.map(function (lang) {\n    return __jsx(Option, {\n      value: lang.value,\n      key: lang.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, lang.name);\n  })))), __jsx(Col, {\n    md: 8,\n    sm: 24,\n    xs: 24,\n    lg: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    name: \"status\",\n    label: \"Status\",\n    rules: [{\n      required: true,\n      message: \"A status is required\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, __jsx(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, STATUS.map(function (stat) {\n    return __jsx(Option, {\n      value: stat.value,\n      key: stat.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }, stat.name);\n  })))), __jsx(Col, {\n    md: 8,\n    sm: 24,\n    xs: 24,\n    lg: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    name: \"copyright\",\n    label: \"Copyright\",\n    rules: [{\n      required: true,\n      message: \"A copyright is required\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, __jsx(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, COPYRIGHTS.map(function (copy) {\n    return __jsx(Option, {\n      value: copy.value,\n      key: copy.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, copy.name);\n  }))))), __jsx(Form.Item, {\n    label: \"Summary\",\n    name: \"summary\",\n    rules: [{\n      max: 180,\n      message: \"Your summary cannot exceed 180 characters\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, __jsx(Input.TextArea, {\n    autoSize: {\n      minRows: 5\n    },\n    showCount: true,\n    maxLength: 180,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  })), __jsx(Row, {\n    justify: \"space-between\",\n    gutter: [24, 24],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, __jsx(RadioButton, {\n    lg: 4,\n    sm: 12,\n    xs: 24,\n    md: 8,\n    name: \"public\",\n    label: \"Visibility\",\n    setFunc: setVisibility,\n    num1: \"3\",\n    num2: \"4\",\n    label1: \"Public\",\n    label2: \"Private\",\n    val: visibility,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }), __jsx(RadioButton, {\n    lg: 4,\n    sm: 12,\n    xs: 24,\n    md: 8,\n    val: mature,\n    setFunc: setMature,\n    name: \"mature\",\n    label: \"Mature content ?\",\n    num1: \"1\",\n    num2: \"2\",\n    label1: \"Yes\",\n    label2: \"No\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }\n  }), __jsx(Col, {\n    lg: 8,\n    md: 12,\n    sm: 24,\n    xs: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }, __jsx(Tags, {\n    form: form,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 15\n    }\n  }))), __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }), __jsx(Form.Item, {\n    name: \"mainCharacters\",\n    label: \"Main Characters\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 11\n    }\n  }, __jsx(Row, {\n    gutter: [24, 24],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }\n  }, __jsx(Col, {\n    lg: 12,\n    md: 24,\n    sm: 24,\n    xs: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    gutter: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 17\n    }\n  }, __jsx(Col, {\n    span: 22,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 19\n    }\n  }, __jsx(Form.Item, {\n    name: \"currentChar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 21\n    }\n  }, __jsx(Select, {\n    disabled: ((_form$getFieldValue3 = form.getFieldValue(\"mainCharacters\")) === null || _form$getFieldValue3 === void 0 ? void 0 : _form$getFieldValue3.length) >= 5 ? true : false,\n    onChange: function onChange(val) {\n      return setCurrentChar(val);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 23\n    }\n  }, __jsx(Option, {\n    value: \"none\",\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 25\n    }\n  }, \"Choose\"), (_characters$filter = characters.filter(function (c) {\n    var _form$getFieldValue4;\n\n    return ((_form$getFieldValue4 = form.getFieldValue(\"mainCharacters\")) === null || _form$getFieldValue4 === void 0 ? void 0 : _form$getFieldValue4.indexOf(c.id)) === -1;\n  })) === null || _characters$filter === void 0 ? void 0 : _characters$filter.sort(function (a, b) {\n    var keyA = a.firstname,\n        keyB = b.firstname; // Compare the 2 dates\n\n    if (keyA < keyB) return -1;\n    if (keyA > keyB) return 1;\n    return 0;\n  }).map(function (_char) {\n    return __jsx(Option, {\n      key: _char.id,\n      value: _char.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 29\n      }\n    }, \"\".concat(_char.firstname, \" \").concat(_char.lastname));\n  })))), __jsx(Col, {\n    span: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"select-add-input-iconbox\",\n    onClick: addCharacter,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 23\n    }\n  }, \"+\"))), __jsx(\"small\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 19\n    }\n  }, \"You can add up to 5 main characters\"))), __jsx(Col, {\n    lg: 12,\n    md: 24,\n    sm: 24,\n    xs: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    gutter: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }\n  }, characters.filter(function (c) {\n    return form.getFieldValue(\"mainCharacters\").includes(c.id);\n  }).map(function (_char2) {\n    return __jsx(Col, {\n      md: 12,\n      sm: 24,\n      key: _char2.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 23\n      }\n    }, __jsx(\"div\", {\n      key: _char2.id,\n      className: \"main-selected\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"main-avatar\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 27\n      }\n    }, __jsx(\"img\", {\n      src: _char2.image,\n      alt: _char2.firstname,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 29\n      }\n    })), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 27\n      }\n    }, \"\".concat(_char2.firstname, \" \").concat(_char2.lastname), \" \"), __jsx(\"ion-icon\", {\n      onClick: function onClick() {\n        return removeCharacter(_char2.id);\n      },\n      name: \"close-circle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 27\n      }\n    })), __jsx(Divider, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 25\n      }\n    }));\n  }))))), __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 11\n    }\n  }), !uploadVisible && !linkVisible && __jsx(\"div\", {\n    className: \"upload-btns\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    onClick: showUpload,\n    type: \"button\",\n    className: \"upload-btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 15\n    }\n  }, \"Upload a cover\"), __jsx(\"button\", {\n    onClick: showLink,\n    type: \"button\",\n    className: \"upload-btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 15\n    }\n  }, \"Submit a link to a cover\")), uploadVisible && __jsx(Row, {\n    align: \"bottom\",\n    gutter: [24, 24],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 13\n    }\n  }, __jsx(Col, {\n    md: 12,\n    sm: 24,\n    xs: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 15\n    }\n  }, __jsx(UploadImage, {\n    form: form,\n    image: story === null || story === void 0 ? void 0 : story.banner,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 17\n    }\n  })), __jsx(Col, {\n    md: 12,\n    sm: 24,\n    xs: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 15\n    }\n  }, __jsx(\"button\", {\n    onClick: showLink,\n    type: \"button\",\n    className: \"upload-btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 17\n    }\n  }, \"OR Submit a link to a cover\"))), linkVisible && __jsx(Row, {\n    align: \"bottom\",\n    gutter: [24, 24],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 13\n    }\n  }, __jsx(Col, {\n    sm: 24,\n    xs: 24,\n    md: 12,\n    lg: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 15\n    }\n  }, __jsx(Form.Item, {\n    rules: [{\n      type: \"url\",\n      message: \"This field must be a valid url.\"\n    }, function () {\n      return {\n        validator: function validator(_, value) {\n          if (isImageUrl(value)) {\n            return Promise.resolve();\n          }\n\n          return Promise.reject(new Error(\"The link needs to be an image\"));\n        }\n      };\n    }],\n    label: \"Submit a link to your image\",\n    name: \"banner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 17\n    }\n  }, __jsx(Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 19\n    }\n  }))), __jsx(Col, {\n    md: 12,\n    sm: 24,\n    xs: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 15\n    }\n  }, __jsx(\"button\", {\n    onClick: showUpload,\n    type: \"button\",\n    className: \"upload-btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 17\n    }\n  }, \"Upload a cover\"))), __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 11\n    }\n  }), type === \"add\" ? loading || storyId ? __jsx(\"button\", {\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 15\n    }\n  }, __jsx(Spin, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 17\n    }\n  })) : __jsx(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 15\n    }\n  }, \"Create\") : loadingStory ? __jsx(\"button\", {\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 13\n    }\n  }, __jsx(Spin, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 15\n    }\n  })) : __jsx(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 13\n    }\n  }, \"Edit\"))));\n};\n\n_s(StoryForm, \"IQOt4oCK80mhG+ZAMayMl9skeiQ=\");\n\n_c = StoryForm;\nexport default StoryForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoryForm\");","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/components/forms/StoryForm.js"],"names":["React","Row","Col","Divider","Form","Spin","Input","Select","message","isImageUrl","CATEGORIES","COPYRIGHTS","LANGUAGES","STATUS","Tags","UploadImage","RadioButton","Option","StoryForm","type","story","form","submit","loading","storyId","characters","mature","setMature","visibility","setVisibility","loadingStory","useState","linkVisible","setLinkVisible","uploadVisible","setUploadVisible","currentChar","setCurrentChar","filter","c","mainCharacters","includes","id","selectedCharacters","setSelectedCharacters","filterSort","a","b","keyA","name","keyB","onFailed","window","scrollTo","error","addCharacter","getFieldValue","indexOf","length","find","setFieldsValue","removeCharacter","showLink","banner","showUpload","title","summary","tags","categories","copyright","language","status","imageCopyright","required","max","sort","map","cat","value","lang","stat","copy","minRows","val","firstname","char","lastname","image","validator","_","Promise","resolve","reject","Error"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Row, Col, Divider, Form, Spin, Input, Select, message } from \"antd\";\r\nimport isImageUrl from \"is-image-url\";\r\n\r\nimport {\r\n  CATEGORIES,\r\n  COPYRIGHTS,\r\n  LANGUAGES,\r\n  STATUS,\r\n} from \"../../utils/constants\";\r\n\r\nimport Tags from \"../../components/forms/Tags\";\r\nimport UploadImage from \"../../components/forms/UploadImage\";\r\nimport RadioButton from \"../../components/forms/RadioButton\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst StoryForm = ({\r\n  type,\r\n  story,\r\n  form,\r\n  submit,\r\n  loading,\r\n  storyId,\r\n  characters,\r\n  mature,\r\n  setMature,\r\n  visibility,\r\n  setVisibility,\r\n  loadingStory,\r\n}) => {\r\n  const [linkVisible, setLinkVisible] = React.useState(false);\r\n  const [uploadVisible, setUploadVisible] = React.useState(false);\r\n  const [currentChar, setCurrentChar] = React.useState(\"\");\r\n  const [selectedCharacters, setSelectedCharacters] = React.useState(\r\n    characters.filter((c) => story.mainCharacters.includes(c.id)) || []\r\n  );\r\n\r\n  const filterSort = (a, b) => {\r\n    const keyA = a.name,\r\n      keyB = b.name;\r\n    if (keyA < keyB) return -1;\r\n    if (keyA > keyB) return 1;\r\n    return 0;\r\n  };\r\n\r\n  const onFailed = () => {\r\n    window.scrollTo(0, 0);\r\n    message.error(\"There are some errors\");\r\n  };\r\n\r\n  const addCharacter = () => {\r\n    if (\r\n      currentChar &&\r\n      form.getFieldValue(\"mainCharacters\")?.indexOf(currentChar) === -1 &&\r\n      form.getFieldValue(\"mainCharacters\")?.length < 5\r\n    ) {\r\n      setSelectedCharacters([\r\n        ...selectedCharacters,\r\n        characters.find((c) => c.id === currentChar),\r\n      ]);\r\n      form.setFieldsValue({\r\n        mainCharacters: [...form.getFieldValue(\"mainCharacters\"), currentChar],\r\n      });\r\n    }\r\n    setCurrentChar(\"\");\r\n    form.setFieldsValue({ currentChar: \"\" });\r\n  };\r\n\r\n  const removeCharacter = (id) => {\r\n    form.setFieldsValue({\r\n      mainCharacters: form\r\n        .getFieldValue(\"mainCharacters\")\r\n        .filter((c) => c !== id),\r\n    });\r\n    setSelectedCharacters(selectedCharacters.filter((c) => c.id !== id));\r\n  };\r\n\r\n  const showLink = () => {\r\n    form.setFieldsValue({ banner: null });\r\n    setLinkVisible(true);\r\n    setUploadVisible(false);\r\n  };\r\n\r\n  const showUpload = () => {\r\n    form.setFieldsValue({ banner: null });\r\n    setLinkVisible(false);\r\n    setUploadVisible(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"new-story custom-form\">\r\n      <div className=\"inner\">\r\n        <h2 className=\"side-heading\">\r\n          {`${type} ${type === \"add\" && \"a new\"} story ${\r\n            type === \"edit\" ? \":\" : \"\"\r\n          } ${type === \"edit\" ? story.title : \"\"}`}\r\n        </h2>\r\n        <Form\r\n          layout=\"vertical\"\r\n          scrollToFirstError\r\n          onFinishFailed={onFailed}\r\n          onFinish={submit}\r\n          form={form}\r\n          initialValues={\r\n            type === \"add\"\r\n              ? {\r\n                  summary: \"\",\r\n                  mature: false,\r\n                  public: true,\r\n                  banner: \"\",\r\n                  mainCharacters: [],\r\n                  tags: [],\r\n                  title: \"\",\r\n                  categories: [],\r\n                  copyright: \"\",\r\n                  language: \"\",\r\n                  status: \"\",\r\n                  imageCopyright: \"\",\r\n                }\r\n              : { ...story }\r\n          }\r\n        >\r\n          <Row gutter={[24, 24]}>\r\n            <Col sm={24} xs={24} md={18} lg={18}>\r\n              <Form.Item\r\n                colon={false}\r\n                name=\"title\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"A title is required\",\r\n                  },\r\n                  { max: 65 },\r\n                ]}\r\n                label=\"Title\"\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col sm={24} xs={24} lg={6} md={6}>\r\n              <Form.Item\r\n                name=\"categories\"\r\n                label=\"Categories\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"At least 1 category is required\",\r\n                  },\r\n                  {\r\n                    max: 2,\r\n                    type: \"array\",\r\n                    message: \"You can only select up to 2 categories\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select mode=\"multiple\" allowClear maxTagCount={2}>\r\n                  {CATEGORIES?.sort((a, b) => {\r\n                    const keyA = a.name,\r\n                      keyB = b.name;\r\n                    // Compare the 2 dates\r\n                    if (keyA < keyB) return -1;\r\n                    if (keyA > keyB) return 1;\r\n                    return 0;\r\n                  }).map((cat) => (\r\n                    <Option value={cat.value} key={cat.value}>\r\n                      {cat.name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={[24, 24]}>\r\n            <Col md={8} sm={24} xs={24} lg={8}>\r\n              <Form.Item\r\n                name=\"language\"\r\n                label=\"Language\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"A language is required\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select filterSort={filterSort}>\r\n                  {LANGUAGES?.map((lang) => (\r\n                    <Option value={lang.value} key={lang.value}>\r\n                      {lang.name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={8} sm={24} xs={24} lg={8}>\r\n              <Form.Item\r\n                name=\"status\"\r\n                label=\"Status\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"A status is required\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select>\r\n                  {STATUS.map((stat) => (\r\n                    <Option value={stat.value} key={stat.value}>\r\n                      {stat.name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={8} sm={24} xs={24} lg={8}>\r\n              <Form.Item\r\n                name=\"copyright\"\r\n                label=\"Copyright\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"A copyright is required\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select>\r\n                  {COPYRIGHTS.map((copy) => (\r\n                    <Option value={copy.value} key={copy.value}>\r\n                      {copy.name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item\r\n            label=\"Summary\"\r\n            name=\"summary\"\r\n            rules={[\r\n              {\r\n                max: 180,\r\n                message: \"Your summary cannot exceed 180 characters\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input.TextArea\r\n              autoSize={{ minRows: 5 }}\r\n              showCount={true}\r\n              maxLength={180}\r\n            ></Input.TextArea>\r\n          </Form.Item>\r\n          <Row justify=\"space-between\" gutter={[24, 24]}>\r\n            <RadioButton\r\n              lg={4}\r\n              sm={12}\r\n              xs={24}\r\n              md={8}\r\n              name=\"public\"\r\n              label=\"Visibility\"\r\n              setFunc={setVisibility}\r\n              num1=\"3\"\r\n              num2=\"4\"\r\n              label1=\"Public\"\r\n              label2=\"Private\"\r\n              val={visibility}\r\n            />\r\n            <RadioButton\r\n              lg={4}\r\n              sm={12}\r\n              xs={24}\r\n              md={8}\r\n              val={mature}\r\n              setFunc={setMature}\r\n              name=\"mature\"\r\n              label=\"Mature content ?\"\r\n              num1=\"1\"\r\n              num2=\"2\"\r\n              label1=\"Yes\"\r\n              label2=\"No\"\r\n            />\r\n            <Col lg={8} md={12} sm={24} xs={24}>\r\n              <Tags form={form} />\r\n            </Col>\r\n          </Row>\r\n          <Divider />\r\n          <Form.Item name=\"mainCharacters\" label=\"Main Characters\">\r\n            <Row gutter={[24, 24]}>\r\n              <Col lg={12} md={24} sm={24} xs={24}>\r\n                <Row gutter={16}>\r\n                  <Col span={22}>\r\n                    <Form.Item name=\"currentChar\">\r\n                      <Select\r\n                        disabled={\r\n                          form.getFieldValue(\"mainCharacters\")?.length >= 5\r\n                            ? true\r\n                            : false\r\n                        }\r\n                        onChange={(val) => setCurrentChar(val)}\r\n                      >\r\n                        <Option value=\"none\" disabled>\r\n                          Choose\r\n                        </Option>\r\n                        {characters\r\n                          .filter(\r\n                            (c) =>\r\n                              form\r\n                                .getFieldValue(\"mainCharacters\")\r\n                                ?.indexOf(c.id) === -1\r\n                          )\r\n                          ?.sort((a, b) => {\r\n                            const keyA = a.firstname,\r\n                              keyB = b.firstname;\r\n                            // Compare the 2 dates\r\n                            if (keyA < keyB) return -1;\r\n                            if (keyA > keyB) return 1;\r\n                            return 0;\r\n                          })\r\n                          .map((char) => (\r\n                            <Option\r\n                              key={char.id}\r\n                              value={char.id}\r\n                            >{`${char.firstname} ${char.lastname}`}</Option>\r\n                          ))}\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col span={2}>\r\n                    <div\r\n                      className=\"select-add-input-iconbox\"\r\n                      onClick={addCharacter}\r\n                    >\r\n                      <span>+</span>\r\n                    </div>\r\n                  </Col>\r\n                  <small>You can add up to 5 main characters</small>\r\n                </Row>\r\n              </Col>\r\n              <Col lg={12} md={24} sm={24} xs={24}>\r\n                <Row gutter={16}>\r\n                  {characters\r\n                    .filter((c) =>\r\n                      form.getFieldValue(\"mainCharacters\").includes(c.id)\r\n                    )\r\n                    .map((char) => (\r\n                      <Col md={12} sm={24} key={char.id}>\r\n                        <div key={char.id} className=\"main-selected\">\r\n                          <div className=\"main-avatar\">\r\n                            <img src={char.image} alt={char.firstname} />\r\n                          </div>\r\n                          <p>{`${char.firstname} ${char.lastname}`} </p>\r\n                          <ion-icon\r\n                            onClick={() => removeCharacter(char.id)}\r\n                            name=\"close-circle\"\r\n                          ></ion-icon>\r\n                        </div>\r\n                        <Divider />\r\n                      </Col>\r\n                    ))}\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Form.Item>\r\n          <Divider />\r\n          {!uploadVisible && !linkVisible && (\r\n            <div className=\"upload-btns\">\r\n              <button onClick={showUpload} type=\"button\" className=\"upload-btn\">\r\n                Upload a cover\r\n              </button>\r\n\r\n              <button onClick={showLink} type=\"button\" className=\"upload-btn\">\r\n                Submit a link to a cover\r\n              </button>\r\n            </div>\r\n          )}\r\n          {uploadVisible && (\r\n            <Row align=\"bottom\" gutter={[24, 24]}>\r\n              <Col md={12} sm={24} xs={24}>\r\n                <UploadImage form={form} image={story?.banner} />\r\n              </Col>\r\n              <Col md={12} sm={24} xs={24}>\r\n                <button onClick={showLink} type=\"button\" className=\"upload-btn\">\r\n                  OR Submit a link to a cover\r\n                </button>\r\n              </Col>\r\n            </Row>\r\n          )}\r\n          {linkVisible && (\r\n            <Row align=\"bottom\" gutter={[24, 24]}>\r\n              <Col sm={24} xs={24} md={12} lg={12}>\r\n                <Form.Item\r\n                  rules={[\r\n                    {\r\n                      type: \"url\",\r\n                      message: \"This field must be a valid url.\",\r\n                    },\r\n                    () => ({\r\n                      validator(_, value) {\r\n                        if (isImageUrl(value)) {\r\n                          return Promise.resolve();\r\n                        }\r\n                        return Promise.reject(\r\n                          new Error(\"The link needs to be an image\")\r\n                        );\r\n                      },\r\n                    }),\r\n                  ]}\r\n                  label=\"Submit a link to your image\"\r\n                  name=\"banner\"\r\n                >\r\n                  <Input />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col md={12} sm={24} xs={24}>\r\n                <button\r\n                  onClick={showUpload}\r\n                  type=\"button\"\r\n                  className=\"upload-btn\"\r\n                >\r\n                  Upload a cover\r\n                </button>\r\n              </Col>\r\n            </Row>\r\n          )}\r\n          <Divider />\r\n          {type === \"add\" ? (\r\n            loading || storyId ? (\r\n              <button disabled>\r\n                <Spin />\r\n              </button>\r\n            ) : (\r\n              <button type=\"submit\">Create</button>\r\n            )\r\n          ) : loadingStory ? (\r\n            <button disabled>\r\n              <Spin />\r\n            </button>\r\n          ) : (\r\n            <button type=\"submit\">Edit</button>\r\n          )}\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StoryForm;\r\n"]},"metadata":{},"sourceType":"module"}