{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\pages\\\\profile\\\\[id]\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport { Modal, Button } from \"antd\";\nimport Banner from \"../../../components/profile/Banner\";\nimport Tabs from \"../../../components/profile/Tabs\";\nimport Stories from \"../../../components/profile/Stories\";\nimport Characters from \"../../../components/profile/Characters\";\nimport Followers from \"../../../components/profile/Followers\";\nimport Locations from \"../../../components/profile/Locations\";\nimport { getProfile, followUser, unfollowUser, getIsFollowing } from \"../../../redux/actions/userActions\";\nimport { getUserStories, getFavoriteStories, getUserLocations } from \"../../../redux/actions/storiesActions\";\nimport { getUserCharacters, getFavoriteCharacters } from \"../../../redux/actions/charactersActions\";\nimport { getFavoriteAuthors, getFollowers } from \"../../../redux/actions/userActions\";\nimport { useAuth } from \"../../../hooks/userHooks\";\nimport LoadingScreen from \"../../../components/hoc/LoadingScreen\";\nimport RedirectComp from \"../../../components/hoc/RedirectComp\";\n\nvar Profile = function Profile(_ref) {\n  _s();\n\n  var _jsx;\n\n  var getProfile = _ref.getProfile,\n      profile = _ref.profile,\n      stories = _ref.stories,\n      locations = _ref.locations,\n      getUserStories = _ref.getUserStories,\n      followUser = _ref.followUser,\n      unfollowUser = _ref.unfollowUser,\n      getIsFollowing = _ref.getIsFollowing,\n      getUserCharacters = _ref.getUserCharacters,\n      getFavoriteAuthors = _ref.getFavoriteAuthors,\n      getFavoriteCharacters = _ref.getFavoriteCharacters,\n      getFavoriteStories = _ref.getFavoriteStories,\n      getUserLocations = _ref.getUserLocations,\n      getFollowers = _ref.getFollowers,\n      characters = _ref.characters,\n      isFollowing = _ref.isFollowing,\n      favAuthors = _ref.favAuthors,\n      followers = _ref.followers,\n      favCharacters = _ref.favCharacters,\n      favStories = _ref.favStories,\n      loading = _ref.loading;\n\n  var _useState = useState([\"stories\", \"characters\", \"locations\", \"favorites stories\", \"favorites characters\", \"followers\", \"followings\"]),\n      tabs = _useState[0];\n\n  var _useState2 = useState(\"stories\"),\n      currentTab = _useState2[0],\n      setCurrentTab = _useState2[1];\n\n  var _useState3 = useState(\"favauthors\"),\n      favTab = _useState3[0],\n      setFavTab = _useState3[1];\n\n  var _useState4 = useState([]),\n      favoriteStories = _useState4[0],\n      setFavoriteStories = _useState4[1];\n\n  var _useState5 = useState(favCharacters),\n      favoriteCharacters = _useState5[0],\n      setFavoriteCharacters = _useState5[1];\n\n  var changeTab = function changeTab(tab) {\n    return setCurrentTab(tab);\n  };\n\n  var auth = useAuth();\n  var router = useRouter();\n  useEffect(function () {\n    getProfile(router.query.id);\n    getUserStories(router.query.id, \"profile\");\n    getUserCharacters(router.query.id);\n    getFavoriteAuthors(router.query.id);\n    getFollowers(router.query.id); // getFavoriteCharacters();\n    // getFavoriteStories();\n\n    getUserLocations(router.query.id);\n  }, [router.query.id]);\n  useEffect(function () {\n    if (auth.user) {\n      getIsFollowing(router.query.id);\n    }\n  }, [auth]);\n  useEffect(function () {\n    setFavoriteStories(favStories.filter(function (s) {\n      return s[\"public\"] || s.authorId === auth.user.uid;\n    }));\n    setFavoriteCharacters(favCharacters.filter(function (s) {\n      return s[\"public\"] || s.authorId === auth.user.uid;\n    }));\n  }, [auth, favStories, favCharacters]);\n\n  var changeFavTab = function changeFavTab(tab) {\n    return setFavTab(tab);\n  };\n\n  return __jsx(\"div\", {\n    className: \"profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, __jsx(LoadingScreen, {\n    loading: auth.isLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, __jsx(RedirectComp, {\n    condition: auth.user,\n    type: \"redirect\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, auth.user && auth.user.uid === router.query.id ? __jsx(ProfilePrive, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }) : __jsx(React.Fragment, null, __jsx(Banner, {\n    context: \"public\",\n    profile: profile,\n    favAuthors: favAuthors,\n    followers: followers,\n    changeFavTab: changeFavTab,\n    favTab: favTab,\n    setCurrentTab: setCurrentTab,\n    isFollowing: isFollowing,\n    followUser: followUser,\n    unfollowUser: unfollowUser,\n    auth: auth,\n    id: router.query.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }), __jsx(\"section\", {\n    className: \"profile-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, __jsx(Tabs, {\n    currentTab: currentTab,\n    tabs: tabs,\n    changeTab: changeTab,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }), currentTab === \"stories\" && __jsx(Stories, (_jsx = {\n    auth: auth,\n    loading: loading,\n    type: \"show\",\n    stories: stories\n  }, _defineProperty(_jsx, \"type\", \"privateProfile\"), _defineProperty(_jsx, \"context\", \"public\"), _defineProperty(_jsx, \"__self\", _this), _defineProperty(_jsx, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 19\n  }), _jsx)), currentTab === \"characters\" && __jsx(Characters, {\n    context: \"public\",\n    characters: characters,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }), currentTab === \"locations\" && __jsx(Locations, {\n    context: \"public\",\n    locations: locations,\n    type: \"profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }))))));\n};\n\n_s(Profile, \"E7h8WDe/YMN9ittHLGWz7/w2Zns=\", false, function () {\n  return [useAuth, useRouter];\n});\n\n_c = Profile;\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  return {\n    profile: state.auth.profile,\n    stories: state.stories.userStories,\n    characters: state.characters.userCharacters,\n    favAuthors: state.auth.favAuthors,\n    followers: state.auth.followers,\n    favCharacters: state.characters.favCharacters,\n    favStories: state.stories.favStories,\n    locations: state.stories.userLocations,\n    loading: state.stories.loading,\n    isFollowing: state.auth.isFollowing\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getProfile: getProfile,\n  getUserStories: getUserStories,\n  getUserCharacters: getUserCharacters,\n  getFavoriteAuthors: getFavoriteAuthors,\n  getFollowers: getFollowers,\n  getFavoriteCharacters: getFavoriteCharacters,\n  getFavoriteStories: getFavoriteStories,\n  getUserLocations: getUserLocations,\n  followUser: followUser,\n  unfollowUser: unfollowUser,\n  getIsFollowing: getIsFollowing\n})(Profile);\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/pages/profile/[id]/index.js"],"names":["React","useEffect","useState","connect","useRouter","Modal","Button","Banner","Tabs","Stories","Characters","Followers","Locations","getProfile","followUser","unfollowUser","getIsFollowing","getUserStories","getFavoriteStories","getUserLocations","getUserCharacters","getFavoriteCharacters","getFavoriteAuthors","getFollowers","useAuth","LoadingScreen","RedirectComp","Profile","profile","stories","locations","characters","isFollowing","favAuthors","followers","favCharacters","favStories","loading","tabs","currentTab","setCurrentTab","favTab","setFavTab","favoriteStories","setFavoriteStories","favoriteCharacters","setFavoriteCharacters","changeTab","tab","auth","router","query","id","user","filter","s","authorId","uid","changeFavTab","isLoading","mapStateToProps","state","ownProps","userStories","userCharacters","userLocations"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useRouter } from \"next/router\";\r\nimport { Modal, Button } from \"antd\";\r\n\r\nimport Banner from \"../../../components/profile/Banner\";\r\nimport Tabs from \"../../../components/profile/Tabs\";\r\nimport Stories from \"../../../components/profile/Stories\";\r\nimport Characters from \"../../../components/profile/Characters\";\r\nimport Followers from \"../../../components/profile/Followers\";\r\nimport Locations from \"../../../components/profile/Locations\";\r\n\r\nimport {\r\n  getProfile,\r\n  followUser,\r\n  unfollowUser,\r\n  getIsFollowing,\r\n} from \"../../../redux/actions/userActions\";\r\nimport {\r\n  getUserStories,\r\n  getFavoriteStories,\r\n  getUserLocations,\r\n} from \"../../../redux/actions/storiesActions\";\r\nimport {\r\n  getUserCharacters,\r\n  getFavoriteCharacters,\r\n} from \"../../../redux/actions/charactersActions\";\r\nimport {\r\n  getFavoriteAuthors,\r\n  getFollowers,\r\n} from \"../../../redux/actions/userActions\";\r\nimport { useAuth } from \"../../../hooks/userHooks\";\r\nimport LoadingScreen from \"../../../components/hoc/LoadingScreen\";\r\nimport RedirectComp from \"../../../components/hoc/RedirectComp\";\r\n\r\nconst Profile = ({\r\n  getProfile,\r\n  profile,\r\n  stories,\r\n  locations,\r\n  getUserStories,\r\n  followUser,\r\n  unfollowUser,\r\n  getIsFollowing,\r\n  getUserCharacters,\r\n  getFavoriteAuthors,\r\n  getFavoriteCharacters,\r\n  getFavoriteStories,\r\n  getUserLocations,\r\n  getFollowers,\r\n  characters,\r\n  isFollowing,\r\n  favAuthors,\r\n  followers,\r\n  favCharacters,\r\n  favStories,\r\n  loading,\r\n}) => {\r\n  const [tabs] = useState([\r\n    \"stories\",\r\n    \"characters\",\r\n    \"locations\",\r\n    \"favorites stories\",\r\n    \"favorites characters\",\r\n    \"followers\",\r\n    \"followings\",\r\n  ]);\r\n  const [currentTab, setCurrentTab] = useState(\"stories\");\r\n  const [favTab, setFavTab] = useState(\"favauthors\");\r\n  const [favoriteStories, setFavoriteStories] = useState([]);\r\n  const [favoriteCharacters, setFavoriteCharacters] = useState(favCharacters);\r\n  const changeTab = (tab) => setCurrentTab(tab);\r\n\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    getProfile(router.query.id);\r\n\r\n    getUserStories(router.query.id, \"profile\");\r\n    getUserCharacters(router.query.id);\r\n    getFavoriteAuthors(router.query.id);\r\n    getFollowers(router.query.id);\r\n    // getFavoriteCharacters();\r\n    // getFavoriteStories();\r\n    getUserLocations(router.query.id);\r\n  }, [router.query.id]);\r\n\r\n  useEffect(() => {\r\n    if (auth.user) {\r\n      getIsFollowing(router.query.id);\r\n    }\r\n  }, [auth]);\r\n\r\n  useEffect(() => {\r\n    setFavoriteStories(\r\n      favStories.filter((s) => s.public || s.authorId === auth.user.uid)\r\n    );\r\n    setFavoriteCharacters(\r\n      favCharacters.filter((s) => s.public || s.authorId === auth.user.uid)\r\n    );\r\n  }, [auth, favStories, favCharacters]);\r\n\r\n  const changeFavTab = (tab) => setFavTab(tab);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <LoadingScreen loading={auth.isLoading}>\r\n        <RedirectComp condition={auth.user} type=\"redirect\">\r\n          {auth.user && auth.user.uid === router.query.id ? (\r\n            <ProfilePrive />\r\n          ) : (\r\n            <>\r\n              <Banner\r\n                context=\"public\"\r\n                profile={profile}\r\n                favAuthors={favAuthors}\r\n                followers={followers}\r\n                changeFavTab={changeFavTab}\r\n                favTab={favTab}\r\n                setCurrentTab={setCurrentTab}\r\n                isFollowing={isFollowing}\r\n                followUser={followUser}\r\n                unfollowUser={unfollowUser}\r\n                auth={auth}\r\n                id={router.query.id}\r\n              />\r\n              <section className=\"profile-content\">\r\n                <Tabs\r\n                  currentTab={currentTab}\r\n                  tabs={tabs}\r\n                  changeTab={changeTab}\r\n                />\r\n                {currentTab === \"stories\" && (\r\n                  <Stories\r\n                    auth={auth}\r\n                    loading={loading}\r\n                    type={\"show\"}\r\n                    stories={stories}\r\n                    type={\"privateProfile\"}\r\n                    context=\"public\"\r\n                  />\r\n                )}\r\n                {currentTab === \"characters\" && (\r\n                  <Characters context=\"public\" characters={characters} />\r\n                )}\r\n                {currentTab === \"locations\" && (\r\n                  <Locations\r\n                    context=\"public\"\r\n                    locations={locations}\r\n                    type=\"profile\"\r\n                  />\r\n                )}\r\n                {/*  {currentTab === \"favorites stories\" && (\r\n                  <Stories loading={loading} stories={favoriteStories} />\r\n                )}\r\n                {currentTab === \"favorites characters\" && (\r\n                  <Characters\r\n                    type=\"favorites\"\r\n                    characters={favoriteCharacters}\r\n                  />\r\n                )}\r\n                {currentTab === \"followers\" && (\r\n                  <Followers\r\n                    title=\"Followers\"\r\n                    type={\"followers\"}\r\n                    lg={4}\r\n                    md={6}\r\n                    sm={8}\r\n                    xs={12}\r\n                    items={followers.authors}\r\n                  />\r\n                )}\r\n                {currentTab === \"followings\" && (\r\n                  <Followers\r\n                    title=\"Followings\"\r\n                    type={\"followings\"}\r\n                    lg={4}\r\n                    md={6}\r\n                    sm={8}\r\n                    xs={12}\r\n                    items={favAuthors.authors}\r\n                  />\r\n                )} */}\r\n              </section>\r\n            </>\r\n          )}\r\n        </RedirectComp>\r\n      </LoadingScreen>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  profile: state.auth.profile,\r\n  stories: state.stories.userStories,\r\n  characters: state.characters.userCharacters,\r\n  favAuthors: state.auth.favAuthors,\r\n  followers: state.auth.followers,\r\n  favCharacters: state.characters.favCharacters,\r\n  favStories: state.stories.favStories,\r\n  locations: state.stories.userLocations,\r\n  loading: state.stories.loading,\r\n  isFollowing: state.auth.isFollowing,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getProfile,\r\n  getUserStories,\r\n  getUserCharacters,\r\n  getFavoriteAuthors,\r\n  getFollowers,\r\n  getFavoriteCharacters,\r\n  getFavoriteStories,\r\n  getUserLocations,\r\n  followUser,\r\n  unfollowUser,\r\n  getIsFollowing,\r\n})(Profile);\r\n"]},"metadata":{},"sourceType":"module"}