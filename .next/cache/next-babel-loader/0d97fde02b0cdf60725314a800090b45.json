{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\pages\\\\character\\\\[id]\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Image, Divider, Space } from \"antd\";\nimport { dummy } from \"../../../utils/dummy\";\nimport { getCharacter, getUserCharacters } from \"../../../redux/actions/charactersActions\";\nimport Comments from \"../../../components/chapter/Comments\";\nimport CharacterCard from \"../../../components/common/CharacterCard\";\nimport LoadingScreen from \"../../../components/hoc/LoadingScreen\";\nimport RedirectComp from \"../../../components/hoc/RedirectComp\";\nimport { useAuth } from \"../../../hooks/userHooks\";\n\nvar Character = function Character(props) {\n  _s();\n\n  var character = props.character,\n      loading = props.loading,\n      charaExists = props.charaExists,\n      userCharacters = props.userCharacters;\n  var router = useRouter();\n  var auth = useAuth();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      relatives = _React$useState2[0],\n      setRelatives = _React$useState2[1];\n\n  React.useEffect(function () {\n    props.getCharacter(router.query.id);\n  }, []);\n  React.useEffect(function () {\n    if (character.authorId) {\n      props.getUserCharacters(character.authorId);\n    }\n  }, [character]);\n  React.useEffect(function () {\n    if (userCharacters.length > 0 && character.relatives.length > 0) {\n      setRelatives(character.relatives.map(function (c) {\n        return {\n          firstname: userCharacters.find(function (_char) {\n            return _char.id === c.character;\n          }).firstname,\n          lastname: userCharacters.find(function (_char2) {\n            return _char2.id === c.character;\n          }).lastname,\n          image: userCharacters.find(function (_char3) {\n            return _char3.id === c.character;\n          }).image,\n          id: userCharacters.find(function (_char4) {\n            return _char4.id === c.character;\n          }).id,\n          relation: c.relation,\n          \"public\": userCharacters.find(function (_char5) {\n            return _char5.id === c.character;\n          })[\"public\"]\n        };\n      }).filter(function (c) {\n        return auth.user.uid !== character.authorId ? c[\"public\"] : c;\n      }));\n    }\n  }, [userCharacters]);\n  console.log(relatives);\n  return __jsx(LoadingScreen, {\n    loading: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, __jsx(RedirectComp, {\n    type: \"404\",\n    condition: charaExists,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, __jsx(RedirectComp, {\n    type: \"403\",\n    condition: character[\"public\"],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"main-character\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, __jsx(\"section\", {\n    className: \"character-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"character-meta\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, __jsx(Link, {\n    href: \"/profile/1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, __jsx(Space, {\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"avatar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 23\n    }\n  }, __jsx(\"img\", {\n    src: dummy.person,\n    alt: character.authorName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  })), __jsx(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 23\n    }\n  }, character.authorName)))), __jsx(\"div\", {\n    className: \"like-btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, __jsx(Space, {\n    size: 5,\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, __jsx(\"ion-icon\", {\n    name: \"heart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }), __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, \"Like\")))), __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"\".concat(character.firstname, \" \").concat(character.lastname && character.lastname)), __jsx(\"div\", {\n    className: \"character-image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"img-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, __jsx(Image, {\n    src: character.image,\n    width: \"100%\",\n    height: 600,\n    alt: \"character\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }))), __jsx(\"div\", {\n    className: \"character-description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, __jsx(\"h3\", {\n    className: \"desc-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Biography\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, character.description)), __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    className: \"character-relationships\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, __jsx(\"h3\", {\n    className: \"desc-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"Relationships\"), __jsx(Row, {\n    gutter: [16, 16],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, relatives === null || relatives === void 0 ? void 0 : relatives.map(function (r) {\n    return __jsx(Col, {\n      md: 8,\n      lg: 6,\n      key: r.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, __jsx(CharacterCard, {\n      type: \"show\",\n      character: r,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 23\n      }\n    }));\n  })))), __jsx(\"section\", {\n    className: \"character-feedback\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, __jsx(\"h3\", {\n    className: \"side-heading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, \"Feedback\"), __jsx(Comments, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }))))));\n};\n\n_s(Character, \"xnderpM3k//xUMtZYYnqmuyk8ec=\", false, function () {\n  return [useRouter, useAuth];\n});\n\n_c = Character;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    character: state.characters.character,\n    loading: state.characters.loading,\n    charaExists: state.characters.charaExists,\n    userCharacters: state.characters.userCharacters\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getCharacter: getCharacter,\n  getUserCharacters: getUserCharacters\n})(Character);\n\nvar _c;\n\n$RefreshReg$(_c, \"Character\");","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/pages/character/[id]/index.js"],"names":["React","Link","useRouter","connect","Row","Col","Image","Divider","Space","dummy","getCharacter","getUserCharacters","Comments","CharacterCard","LoadingScreen","RedirectComp","useAuth","Character","props","character","loading","charaExists","userCharacters","router","auth","useState","relatives","setRelatives","useEffect","query","id","authorId","length","map","c","firstname","find","char","lastname","image","relation","filter","user","uid","console","log","person","authorName","description","r","mapStateToProps","state","characters"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/router\";\r\nimport { connect } from \"react-redux\";\r\nimport { Row, Col, Image, Divider, Space } from \"antd\";\r\n\r\nimport { dummy } from \"../../../utils/dummy\";\r\nimport {\r\n  getCharacter,\r\n  getUserCharacters,\r\n} from \"../../../redux/actions/charactersActions\";\r\nimport Comments from \"../../../components/chapter/Comments\";\r\nimport CharacterCard from \"../../../components/common/CharacterCard\";\r\nimport LoadingScreen from \"../../../components/hoc/LoadingScreen\";\r\nimport RedirectComp from \"../../../components/hoc/RedirectComp\";\r\nimport { useAuth } from \"../../../hooks/userHooks\";\r\n\r\nconst Character = (props) => {\r\n  const { character, loading, charaExists, userCharacters } = props;\r\n  const router = useRouter();\r\n  const auth = useAuth();\r\n\r\n  const [relatives, setRelatives] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    props.getCharacter(router.query.id);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (character.authorId) {\r\n      props.getUserCharacters(character.authorId);\r\n    }\r\n  }, [character]);\r\n\r\n  React.useEffect(() => {\r\n    if (userCharacters.length > 0 && character.relatives.length > 0) {\r\n      setRelatives(\r\n        character.relatives\r\n          .map((c) => ({\r\n            firstname: userCharacters.find((char) => char.id === c.character)\r\n              .firstname,\r\n            lastname: userCharacters.find((char) => char.id === c.character)\r\n              .lastname,\r\n            image: userCharacters.find((char) => char.id === c.character).image,\r\n            id: userCharacters.find((char) => char.id === c.character).id,\r\n            relation: c.relation,\r\n            public: userCharacters.find((char) => char.id === c.character)\r\n              .public,\r\n          }))\r\n          .filter((c) => (auth.user.uid !== character.authorId ? c.public : c))\r\n      );\r\n    }\r\n  }, [userCharacters]);\r\n\r\n  console.log(relatives);\r\n\r\n  return (\r\n    <LoadingScreen loading={loading}>\r\n      <RedirectComp type=\"404\" condition={charaExists}>\r\n        <RedirectComp type=\"403\" condition={character.public}>\r\n          <div className=\"main-character\">\r\n            <section className=\"character-page\">\r\n              <div className=\"character-meta\">\r\n                <Link href=\"/profile/1\">\r\n                  <a>\r\n                    <Space align=\"center\">\r\n                      <div className=\"avatar\">\r\n                        <img src={dummy.person} alt={character.authorName} />\r\n                      </div>\r\n                      <h5>{character.authorName}</h5>\r\n                    </Space>\r\n                  </a>\r\n                </Link>\r\n                <div className=\"like-btn\">\r\n                  <Space size={5} align=\"center\">\r\n                    <ion-icon name=\"heart\"></ion-icon>\r\n                    <span>Like</span>\r\n                  </Space>\r\n                </div>\r\n              </div>\r\n              <h2>{`${character.firstname} ${\r\n                character.lastname && character.lastname\r\n              }`}</h2>\r\n              <div className=\"character-image\">\r\n                <div className=\"img-container\">\r\n                  <Image\r\n                    src={character.image}\r\n                    width={\"100%\"}\r\n                    height={600}\r\n                    alt=\"character\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"character-description\">\r\n                <h3 className=\"desc-title\">Biography</h3>\r\n                <p>{character.description}</p>\r\n              </div>\r\n              <Divider />\r\n              <div className=\"character-relationships\">\r\n                <h3 className=\"desc-title\">Relationships</h3>\r\n                <Row gutter={[16, 16]}>\r\n                  {relatives?.map((r) => (\r\n                    <Col md={8} lg={6} key={r.id}>\r\n                      <CharacterCard type=\"show\" character={r} />\r\n                    </Col>\r\n                  ))}\r\n                </Row>\r\n              </div>\r\n            </section>\r\n            <section className=\"character-feedback\">\r\n              <h3 className=\"side-heading\">Feedback</h3>\r\n              <Comments />\r\n            </section>\r\n          </div>\r\n        </RedirectComp>\r\n      </RedirectComp>\r\n    </LoadingScreen>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  character: state.characters.character,\r\n  loading: state.characters.loading,\r\n  charaExists: state.characters.charaExists,\r\n  userCharacters: state.characters.userCharacters,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getCharacter,\r\n  getUserCharacters,\r\n})(Character);\r\n"]},"metadata":{},"sourceType":"module"}