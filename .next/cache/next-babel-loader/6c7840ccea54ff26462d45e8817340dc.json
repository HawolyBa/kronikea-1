{"ast":null,"code":"const userContext = React.createContext({\n  user: null\n});\nexport const useSession = () => {\n  const {\n    user\n  } = useContext(userContext);\n  return user;\n};\nexport const useAuth = () => {\n  const [state, setState] = React.useState(() => {\n    const user = firebase.auth().currentUser;\n    return {\n      initializing: !user,\n      user\n    };\n  });\n\n  function onChange(user) {\n    setState({\n      initializing: false,\n      user\n    });\n  }\n\n  React.useEffect(() => {\n    // listen for auth state changes\n    const unsubscribe = firebase.auth().onAuthStateChanged(onChange); // unsubscribe to the listener when unmounting\n\n    return () => unsubscribe();\n  }, []);\n  return state;\n};","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/hooks/userHooks.js"],"names":["userContext","React","createContext","user","useSession","useContext","useAuth","state","setState","useState","firebase","auth","currentUser","initializing","onChange","useEffect","unsubscribe","onAuthStateChanged"],"mappings":"AAAA,MAAMA,WAAW,GAAGC,KAAK,CAACC,aAAN,CAAoB;AACtCC,EAAAA,IAAI,EAAE;AADgC,CAApB,CAApB;AAIA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,QAAM;AAAED,IAAAA;AAAF,MAAWE,UAAU,CAACL,WAAD,CAA3B;AACA,SAAOG,IAAP;AACD,CAHM;AAKP,OAAO,MAAMG,OAAO,GAAG,MAAM;AAC3B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,KAAK,CAACQ,QAAN,CAAe,MAAM;AAC7C,UAAMN,IAAI,GAAGO,QAAQ,CAACC,IAAT,GAAgBC,WAA7B;AACA,WAAO;AAAEC,MAAAA,YAAY,EAAE,CAACV,IAAjB;AAAuBA,MAAAA;AAAvB,KAAP;AACD,GAHyB,CAA1B;;AAIA,WAASW,QAAT,CAAkBX,IAAlB,EAAwB;AACtBK,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,YAAY,EAAE,KAAhB;AAAuBV,MAAAA;AAAvB,KAAD,CAAR;AACD;;AAEDF,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AACpB;AACA,UAAMC,WAAW,GAAGN,QAAQ,CAACC,IAAT,GAAgBM,kBAAhB,CAAmCH,QAAnC,CAApB,CAFoB,CAGpB;;AACA,WAAO,MAAME,WAAW,EAAxB;AACD,GALD,EAKG,EALH;AAOA,SAAOT,KAAP;AACD,CAjBM","sourcesContent":["const userContext = React.createContext({\r\n  user: null,\r\n});\r\n\r\nexport const useSession = () => {\r\n  const { user } = useContext(userContext);\r\n  return user;\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const [state, setState] = React.useState(() => {\r\n    const user = firebase.auth().currentUser;\r\n    return { initializing: !user, user };\r\n  });\r\n  function onChange(user) {\r\n    setState({ initializing: false, user });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    // listen for auth state changes\r\n    const unsubscribe = firebase.auth().onAuthStateChanged(onChange);\r\n    // unsubscribe to the listener when unmounting\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}