{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\components\\\\profile\\\\Settings.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { Tabs, Form, Input, Modal, Upload, message, Button, Popconfirm } from \"antd\";\nimport { LockOutlined, UserOutlined, LinkOutlined, FileImageOutlined, LoadingOutlined, PlusOutlined, StarOutlined, EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport LinkComp from \"./LinkComp\";\nimport { auth } from \"../../redux/fbConfig\";\nvar TabPane = Tabs.TabPane;\n\nfunction getBase64(img, callback) {\n  var reader = new FileReader();\n  reader.addEventListener(\"load\", function () {\n    return callback(reader.result);\n  });\n  reader.readAsDataURL(img);\n}\n\nfunction beforeUpload(file) {\n  var isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\n\n  if (!isJpgOrPng) {\n    message.error(\"You can only upload JPG/PNG file!\");\n  }\n\n  var isLt2M = file.size / 1024 / 1024 < 2;\n\n  if (!isLt2M) {\n    message.error(\"Image must smaller than 2MB!\");\n  }\n\n  return isJpgOrPng && isLt2M;\n}\n\nvar Settings = function Settings(_ref) {\n  _s();\n\n  var _jsx;\n\n  var deleteAccount = _ref.deleteAccount,\n      profile = _ref.profile,\n      openSettings = _ref.openSettings,\n      setOpenSettings = _ref.setOpenSettings,\n      changeProfile = _ref.changeProfile;\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _React$useState = React.useState({\n    username: \"\",\n    deviantart: \"\",\n    facebook: \"\",\n    instagram: \"\",\n    twitter: \"\",\n    biography: \"\",\n    errors: {\n      instagram: \"\",\n      deviantart: \"\",\n      facebook: \"\",\n      twitter: \"\",\n      username: \"\"\n    }\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      info = _React$useState2[0],\n      setInfo = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      imageUrl = _React$useState4[0],\n      setImageUrl = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      loading = _React$useState6[0],\n      setLoading = _React$useState6[1];\n\n  var handleChange = function handleChange(imageInfo) {\n    if (imageInfo.file.status === \"uploading\") {\n      setLoading(true);\n      return;\n    }\n\n    if (imageInfo.file.status === \"done\") {\n      setInfo(_objectSpread(_objectSpread({}, info), {}, {\n        image: imageInfo.file.originFileObj\n      }));\n      getBase64(imageInfo.file.originFileObj, function (imageUrl) {\n        setLoading(false);\n        setImageUrl(imageUrl);\n      });\n    }\n  };\n\n  var uploadButton = __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, loading ? __jsx(LoadingOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 18\n    }\n  }) : __jsx(PlusOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 40\n    }\n  }), __jsx(\"div\", {\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, \"Upload\"));\n\n  React.useEffect(function () {\n    if (profile) {\n      setImageUrl(profile.image);\n      setInfo(_objectSpread(_objectSpread({}, info), {}, {\n        biography: profile.biography,\n        username: profile.username,\n        instagram: profile.instagram,\n        facebook: profile.facebook,\n        twitter: profile.twitter,\n        deviantart: profile.deviantart,\n        image: profile.image\n      }));\n    }\n  }, [profile]);\n  React.useEffect(function () {\n    if (info.username && info.username.length >= 0 && info.username.length < 4) {\n      setInfo(_objectSpread(_objectSpread({}, info), {}, {\n        errors: _objectSpread(_objectSpread({}, info.errors), {}, {\n          username: \"Your username needs to be at least 4 characters long\"\n        })\n      }));\n    } else if (info.username.length > 15) {\n      setInfo(_objectSpread(_objectSpread({}, info), {}, {\n        errors: _objectSpread(_objectSpread({}, info.errors), {}, {\n          username: \"Your username cannot exceed 15 characters\"\n        })\n      }));\n    } else {\n      setInfo(_objectSpread(_objectSpread({}, info), {}, {\n        errors: _objectSpread(_objectSpread({}, info.errors), {}, {\n          username: \"\"\n        })\n      }));\n    }\n  }, [info.username]);\n\n  var submit = function submit() {\n    var errors = [];\n    var passwordErrors = form.getFieldsError();\n\n    for (var i in passwordErrors) {\n      if (passwordErrors[i].errors.length > 0) errors.push(_toConsumableArray(passwordErrors[i].errors));\n    }\n\n    for (var _i in info.errors) {\n      if (info.errors[_i]) errors.push(info.errors[_i]);\n    }\n\n    if (errors.length === 0) {\n      changeProfile({\n        username: info.username,\n        twitter: info.twitter,\n        instagram: info.instagram,\n        deviantart: info.deviantart,\n        facebook: info.facebook,\n        newPassword: form.getFieldValue(\"newPassword\"),\n        actualPassword: form.getFieldValue(\"actualPassword\"),\n        image: info.image,\n        biography: info.biography\n      }, setOpenSettings, profile.username, profile.image);\n    } else {\n      message.error(\"There are some errors in the settings\");\n    }\n  };\n\n  var closeModal = function closeModal() {\n    setImageUrl(profile.image);\n    setInfo(_objectSpread(_objectSpread({}, info), {}, {\n      errors: {\n        instagram: \"\",\n        deviantart: \"\",\n        facebook: \"\",\n        twitter: \"\",\n        username: \"\"\n      },\n      username: profile.username,\n      biography: profile.biography,\n      instagram: profile.instagram,\n      facebook: profile.facebook,\n      twitter: profile.twitter,\n      deviantart: profile.deviantart,\n      image: profile.image\n    }));\n    setOpenSettings(false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Modal, {\n    title: \"Settings\",\n    visible: openSettings,\n    onOk: submit,\n    okText: \"Submit changes\",\n    onCancel: closeModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"settings\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, __jsx(Tabs, {\n    tabPosition: \"left\",\n    defaultActiveKey: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, __jsx(UserOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 19\n      }\n    }), \"Username\"),\n    key: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, __jsx(Input, {\n    maxLength: 15,\n    addonBefore: \"Username\",\n    onChange: function onChange(e) {\n      return setInfo(_objectSpread(_objectSpread({}, info), {}, {\n        username: e.target.value\n      }));\n    },\n    value: info.username,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }), info.errors.username && __jsx(\"div\", {\n    className: \"ant-form-item-explain ant-form-item-explain-error\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    role: \"alert\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 19\n    }\n  }, info.errors.username))), __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }\n    }, __jsx(LockOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 19\n      }\n    }), \"Password\"),\n    key: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }\n  }, __jsx(Form, {\n    form: form,\n    layout: \"vertical\",\n    initialValues: {\n      actualPassword: \"\",\n      newPassword: \"\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 19\n    }\n  }, __jsx(Form.Item, {\n    label: \"Actual Password\",\n    name: \"actualPassword\",\n    rules: [{\n      required: true,\n      message: \"Please input your actual password!\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 21\n    }\n  }, __jsx(Input.Password, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 23\n    }\n  })))), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 19\n    }\n  }, __jsx(Form.Item, {\n    label: \"New Password\",\n    name: \"newPassword\",\n    rules: [{\n      required: true,\n      message: \"Please input your new password!\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 21\n    }\n  }, __jsx(Input.Password, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 23\n    }\n  })))), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 19\n    }\n  }, __jsx(Form.Item, {\n    name: \"confirmPassword\",\n    label: \"Confirm New Password\",\n    dependencies: [\"password\"],\n    rules: [{\n      required: true,\n      message: \"Please confirm your password!\"\n    }, function (_ref2) {\n      var getFieldValue = _ref2.getFieldValue;\n      return {\n        validator: function validator(_, value) {\n          if (!value || getFieldValue(\"newPassword\") === value) {\n            return Promise.resolve();\n          }\n\n          return Promise.reject(new Error(\"The two passwords that you entered do not match!\"));\n        }\n      };\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 21\n    }\n  }, __jsx(Input.Password, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 23\n    }\n  })))))), __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }\n    }, __jsx(EditOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 19\n      }\n    }), \"Bio\"),\n    key: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }\n  }, __jsx(Input.TextArea, {\n    maxLength: 140,\n    autoSize: true,\n    showCount: true,\n    value: info.biography,\n    onChange: function onChange(e) {\n      return setInfo(_objectSpread(_objectSpread({}, info), {}, {\n        biography: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 15\n    }\n  })), __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }\n    }, __jsx(LinkOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 19\n      }\n    }), \"Links\"),\n    key: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 13\n    }\n  }, __jsx(LinkComp, {\n    setInfo: setInfo,\n    info: info,\n    name: \"facebook\",\n    label: \"Facebook\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    style: {\n      margin: \"10px 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 15\n    }\n  }), __jsx(LinkComp, {\n    setInfo: setInfo,\n    info: info,\n    name: \"twitter\",\n    label: \"Twitter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    style: {\n      margin: \"10px 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 15\n    }\n  }), __jsx(LinkComp, {\n    setInfo: setInfo,\n    info: info,\n    name: \"instagram\",\n    label: \"Instagram\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    style: {\n      margin: \"10px 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 15\n    }\n  }), __jsx(LinkComp, {\n    setInfo: setInfo,\n    info: info,\n    name: \"deviantart\",\n    label: \"Deviantart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    style: {\n      margin: \"10px 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 15\n    }\n  })), __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }\n    }, __jsx(FileImageOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 19\n      }\n    }), \"Avatar\"),\n    key: \"5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 13\n    }\n  }, __jsx(Upload, (_jsx = {\n    showUploadList: {\n      showRemoveIcon: true,\n      removeIcon: __jsx(StarOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 31\n        }\n      })\n    },\n    listType: \"picture-card\",\n    className: \"cover-uploader\"\n  }, _defineProperty(_jsx, \"showUploadList\", true), _defineProperty(_jsx, \"beforeUpload\", beforeUpload), _defineProperty(_jsx, \"onChange\", handleChange), _defineProperty(_jsx, \"maxCount\", 1), _defineProperty(_jsx, \"__self\", _this), _defineProperty(_jsx, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 377,\n    columnNumber: 15\n  }), _jsx), imageUrl ? __jsx(\"img\", {\n    src: imageUrl,\n    alt: \"image\",\n    style: {\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 19\n    }\n  }) : uploadButton)), __jsx(TabPane, {\n    tab: __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 17\n      }\n    }, __jsx(DeleteOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 19\n      }\n    }), \"Delete my account\"),\n    key: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 13\n    }\n  }, __jsx(Popconfirm, {\n    title: \"Be careful ! This action is not reversible !\",\n    onConfirm: deleteAccount,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    danger: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 17\n    }\n  }, \"Click here to delete your account\")))))));\n};\n\n_s(Settings, \"vf8nqdmg3QezVCf/d+YONP70eec=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = Settings;\nexport default Settings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/components/profile/Settings.js"],"names":["React","Tabs","Form","Input","Modal","Upload","message","Button","Popconfirm","LockOutlined","UserOutlined","LinkOutlined","FileImageOutlined","LoadingOutlined","PlusOutlined","StarOutlined","EditOutlined","DeleteOutlined","LinkComp","auth","TabPane","getBase64","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","beforeUpload","file","isJpgOrPng","type","error","isLt2M","size","Settings","deleteAccount","profile","openSettings","setOpenSettings","changeProfile","useForm","form","useState","username","deviantart","facebook","instagram","twitter","biography","errors","info","setInfo","imageUrl","setImageUrl","loading","setLoading","handleChange","imageInfo","status","image","originFileObj","uploadButton","marginTop","useEffect","length","submit","passwordErrors","getFieldsError","i","push","newPassword","getFieldValue","actualPassword","closeModal","e","target","value","required","validator","_","Promise","resolve","reject","Error","margin","showRemoveIcon","removeIcon","width","height","objectFit"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  Tabs,\r\n  Form,\r\n  Input,\r\n  Modal,\r\n  Upload,\r\n  message,\r\n  Button,\r\n  Popconfirm,\r\n} from \"antd\";\r\nimport {\r\n  LockOutlined,\r\n  UserOutlined,\r\n  LinkOutlined,\r\n  FileImageOutlined,\r\n  LoadingOutlined,\r\n  PlusOutlined,\r\n  StarOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport LinkComp from \"./LinkComp\";\r\nimport { auth } from \"../../redux/fbConfig\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction getBase64(img, callback) {\r\n  const reader = new FileReader();\r\n  reader.addEventListener(\"load\", () => callback(reader.result));\r\n  reader.readAsDataURL(img);\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n  const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n  if (!isJpgOrPng) {\r\n    message.error(\"You can only upload JPG/PNG file!\");\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 2;\r\n  if (!isLt2M) {\r\n    message.error(\"Image must smaller than 2MB!\");\r\n  }\r\n  return isJpgOrPng && isLt2M;\r\n}\r\n\r\nconst Settings = ({\r\n  deleteAccount,\r\n  profile,\r\n  openSettings,\r\n  setOpenSettings,\r\n  changeProfile,\r\n}) => {\r\n  const [form] = Form.useForm();\r\n  const [info, setInfo] = React.useState({\r\n    username: \"\",\r\n    deviantart: \"\",\r\n    facebook: \"\",\r\n    instagram: \"\",\r\n    twitter: \"\",\r\n    biography: \"\",\r\n    errors: {\r\n      instagram: \"\",\r\n      deviantart: \"\",\r\n      facebook: \"\",\r\n      twitter: \"\",\r\n      username: \"\",\r\n    },\r\n  });\r\n  const [imageUrl, setImageUrl] = React.useState(\"\");\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const handleChange = (imageInfo) => {\r\n    if (imageInfo.file.status === \"uploading\") {\r\n      setLoading(true);\r\n      return;\r\n    }\r\n    if (imageInfo.file.status === \"done\") {\r\n      setInfo({ ...info, image: imageInfo.file.originFileObj });\r\n      getBase64(imageInfo.file.originFileObj, (imageUrl) => {\r\n        setLoading(false);\r\n\r\n        setImageUrl(imageUrl);\r\n      });\r\n    }\r\n  };\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (profile) {\r\n      setImageUrl(profile.image);\r\n      setInfo({\r\n        ...info,\r\n        biography: profile.biography,\r\n        username: profile.username,\r\n        instagram: profile.instagram,\r\n        facebook: profile.facebook,\r\n        twitter: profile.twitter,\r\n        deviantart: profile.deviantart,\r\n        image: profile.image,\r\n      });\r\n    }\r\n  }, [profile]);\r\n\r\n  React.useEffect(() => {\r\n    if (\r\n      info.username &&\r\n      info.username.length >= 0 &&\r\n      info.username.length < 4\r\n    ) {\r\n      setInfo({\r\n        ...info,\r\n        errors: {\r\n          ...info.errors,\r\n          username: \"Your username needs to be at least 4 characters long\",\r\n        },\r\n      });\r\n    } else if (info.username.length > 15) {\r\n      setInfo({\r\n        ...info,\r\n        errors: {\r\n          ...info.errors,\r\n          username: \"Your username cannot exceed 15 characters\",\r\n        },\r\n      });\r\n    } else {\r\n      setInfo({\r\n        ...info,\r\n        errors: {\r\n          ...info.errors,\r\n          username: \"\",\r\n        },\r\n      });\r\n    }\r\n  }, [info.username]);\r\n\r\n  const submit = () => {\r\n    let errors = [];\r\n    const passwordErrors = form.getFieldsError();\r\n\r\n    for (let i in passwordErrors) {\r\n      if (passwordErrors[i].errors.length > 0)\r\n        errors.push([...passwordErrors[i].errors]);\r\n    }\r\n\r\n    for (let i in info.errors) {\r\n      if (info.errors[i]) errors.push(info.errors[i]);\r\n    }\r\n\r\n    if (errors.length === 0) {\r\n      changeProfile(\r\n        {\r\n          username: info.username,\r\n          twitter: info.twitter,\r\n          instagram: info.instagram,\r\n          deviantart: info.deviantart,\r\n          facebook: info.facebook,\r\n          newPassword: form.getFieldValue(\"newPassword\"),\r\n          actualPassword: form.getFieldValue(\"actualPassword\"),\r\n          image: info.image,\r\n          biography: info.biography,\r\n        },\r\n        setOpenSettings,\r\n        profile.username,\r\n        profile.image\r\n      );\r\n    } else {\r\n      message.error(\"There are some errors in the settings\");\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setImageUrl(profile.image);\r\n    setInfo({\r\n      ...info,\r\n      errors: {\r\n        instagram: \"\",\r\n        deviantart: \"\",\r\n        facebook: \"\",\r\n        twitter: \"\",\r\n        username: \"\",\r\n      },\r\n      username: profile.username,\r\n      biography: profile.biography,\r\n      instagram: profile.instagram,\r\n      facebook: profile.facebook,\r\n      twitter: profile.twitter,\r\n      deviantart: profile.deviantart,\r\n      image: profile.image,\r\n    });\r\n    setOpenSettings(false);\r\n  };\r\n  return (\r\n    <>\r\n      <Modal\r\n        title=\"Settings\"\r\n        visible={openSettings}\r\n        onOk={submit}\r\n        okText=\"Submit changes\"\r\n        onCancel={closeModal}\r\n      >\r\n        <div className=\"settings\">\r\n          <Tabs tabPosition=\"left\" defaultActiveKey=\"1\">\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <UserOutlined />\r\n                  Username\r\n                </span>\r\n              }\r\n              key=\"1\"\r\n            >\r\n              <Input\r\n                maxLength={15}\r\n                addonBefore={\"Username\"}\r\n                onChange={(e) => setInfo({ ...info, username: e.target.value })}\r\n                value={info.username}\r\n              />\r\n              {info.errors.username && (\r\n                <div className=\"ant-form-item-explain ant-form-item-explain-error\">\r\n                  <div role=\"alert\">{info.errors.username}</div>\r\n                </div>\r\n              )}\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <LockOutlined />\r\n                  Password\r\n                </span>\r\n              }\r\n              key=\"2\"\r\n            >\r\n              <Form\r\n                form={form}\r\n                layout=\"vertical\"\r\n                initialValues={{ actualPassword: \"\", newPassword: \"\" }}\r\n              >\r\n                <div className=\"form-group\">\r\n                  <div className=\"input-group\">\r\n                    <Form.Item\r\n                      label=\"Actual Password\"\r\n                      name=\"actualPassword\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Please input your actual password!\",\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input.Password />\r\n                    </Form.Item>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <div className=\"input-group\">\r\n                    <Form.Item\r\n                      label=\"New Password\"\r\n                      name=\"newPassword\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Please input your new password!\",\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input.Password />\r\n                    </Form.Item>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <div className=\"input-group\">\r\n                    <Form.Item\r\n                      name=\"confirmPassword\"\r\n                      label=\"Confirm New Password\"\r\n                      dependencies={[\"password\"]}\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Please confirm your password!\",\r\n                        },\r\n                        ({ getFieldValue }) => ({\r\n                          validator(_, value) {\r\n                            if (\r\n                              !value ||\r\n                              getFieldValue(\"newPassword\") === value\r\n                            ) {\r\n                              return Promise.resolve();\r\n                            }\r\n                            return Promise.reject(\r\n                              new Error(\r\n                                \"The two passwords that you entered do not match!\"\r\n                              )\r\n                            );\r\n                          },\r\n                        }),\r\n                      ]}\r\n                    >\r\n                      <Input.Password />\r\n                    </Form.Item>\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <EditOutlined />\r\n                  Bio\r\n                </span>\r\n              }\r\n              key=\"3\"\r\n            >\r\n              <Input.TextArea\r\n                maxLength={140}\r\n                autoSize\r\n                showCount\r\n                value={info.biography}\r\n                onChange={(e) =>\r\n                  setInfo({ ...info, biography: e.target.value })\r\n                }\r\n              ></Input.TextArea>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <LinkOutlined />\r\n                  Links\r\n                </span>\r\n              }\r\n              key=\"4\"\r\n            >\r\n              <LinkComp\r\n                setInfo={setInfo}\r\n                info={info}\r\n                name={\"facebook\"}\r\n                label={\"Facebook\"}\r\n              />\r\n              <div style={{ margin: \"10px 0\" }}></div>\r\n              <LinkComp\r\n                setInfo={setInfo}\r\n                info={info}\r\n                name={\"twitter\"}\r\n                label={\"Twitter\"}\r\n              />\r\n              <div style={{ margin: \"10px 0\" }}></div>\r\n              <LinkComp\r\n                setInfo={setInfo}\r\n                info={info}\r\n                name={\"instagram\"}\r\n                label={\"Instagram\"}\r\n              />\r\n              <div style={{ margin: \"10px 0\" }}></div>\r\n              <LinkComp\r\n                setInfo={setInfo}\r\n                info={info}\r\n                name={\"deviantart\"}\r\n                label={\"Deviantart\"}\r\n              />\r\n              <div style={{ margin: \"10px 0\" }}></div>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <FileImageOutlined />\r\n                  Avatar\r\n                </span>\r\n              }\r\n              key=\"5\"\r\n            >\r\n              <Upload\r\n                showUploadList={{\r\n                  showRemoveIcon: true,\r\n                  removeIcon: <StarOutlined />,\r\n                }}\r\n                listType=\"picture-card\"\r\n                className=\"cover-uploader\"\r\n                showUploadList={true}\r\n                beforeUpload={beforeUpload}\r\n                onChange={handleChange}\r\n                maxCount={1}\r\n              >\r\n                {imageUrl ? (\r\n                  <img\r\n                    src={imageUrl}\r\n                    alt=\"image\"\r\n                    style={{\r\n                      width: \"100%\",\r\n                      height: \"100%\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  uploadButton\r\n                )}\r\n              </Upload>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <DeleteOutlined />\r\n                  Delete my account\r\n                </span>\r\n              }\r\n              key=\"6\"\r\n            >\r\n              <Popconfirm\r\n                title=\"Be careful ! This action is not reversible !\"\r\n                onConfirm={deleteAccount}\r\n              >\r\n                <Button danger>Click here to delete your account</Button>\r\n              </Popconfirm>\r\n            </TabPane>\r\n          </Tabs>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"]},"metadata":{},"sourceType":"module"}