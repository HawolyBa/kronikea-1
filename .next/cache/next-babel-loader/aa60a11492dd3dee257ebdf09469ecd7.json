{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\pages\\\\profile\\\\[id]\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport { Modal, Button } from \"antd\";\nimport ProfilePrive from \"../index\";\nimport Banner from \"../../../components/profile/Banner\";\nimport Tabs from \"../../../components/profile/Tabs\";\nimport Stories from \"../../../components/profile/Stories\";\nimport Characters from \"../../../components/profile/Characters\";\nimport Followers from \"../../../components/profile/Followers\";\nimport Locations from \"../../../components/profile/Locations\";\nimport { getProfile, followUser, unfollowUser, getIsFollowing } from \"../../../redux/actions/userActions\";\nimport { getUserStories, getFavoriteStories, getUserLocations } from \"../../../redux/actions/storiesActions\";\nimport { getUserCharacters, getFavoriteCharacters } from \"../../../redux/actions/charactersActions\";\nimport { getFavoriteAuthors, getFollowers } from \"../../../redux/actions/userActions\";\nimport { useAuth } from \"../../../hooks/userHooks\";\nimport LoadingScreen from \"../../../components/hoc/LoadingScreen\";\nimport RedirectComp from \"../../../components/hoc/RedirectComp\";\n\nconst Profile = ({\n  getProfile,\n  profile,\n  stories,\n  locations,\n  getUserStories,\n  followUser,\n  unfollowUser,\n  getIsFollowing,\n  getUserCharacters,\n  getFavoriteAuthors,\n  getFavoriteCharacters,\n  getFavoriteStories,\n  getUserLocations,\n  getFollowers,\n  characters,\n  isFollowing,\n  favAuthors,\n  followers,\n  favCharacters,\n  favStories,\n  loading\n}) => {\n  const {\n    0: tabs\n  } = useState([\"stories\", \"characters\", \"locations\", \"favorites stories\", \"favorites characters\", \"followers\", \"followings\"]);\n  const {\n    0: currentTab,\n    1: setCurrentTab\n  } = useState(\"stories\");\n  const {\n    0: favTab,\n    1: setFavTab\n  } = useState(\"favauthors\");\n  const {\n    0: favoriteStories,\n    1: setFavoriteStories\n  } = useState([]);\n  const {\n    0: favoriteCharacters,\n    1: setFavoriteCharacters\n  } = useState(favCharacters);\n\n  const changeTab = tab => setCurrentTab(tab);\n\n  const auth = useAuth();\n  const router = useRouter();\n  useEffect(() => {\n    if (router.query.id) {\n      getProfile(router.query.id);\n      getUserStories(router.query.id);\n      getUserCharacters(router.query.id);\n      getFavoriteAuthors(router.query.id);\n      getFollowers(router.query.id);\n      getFavoriteCharacters(router.query.id);\n      getFavoriteStories(router.query.id);\n      getUserLocations(router.query.id);\n    }\n  }, [router.query.id]);\n  useEffect(() => {\n    if (auth.user) {\n      getIsFollowing(router.query.id);\n    }\n  }, [auth]);\n  useEffect(() => {\n    setFavoriteStories(favStories.filter(s => s.public || s.authorId === auth.user.uid));\n    setFavoriteCharacters(favCharacters.filter(s => s.public || s.authorId === auth.user.uid));\n  }, [auth, favStories, favCharacters]);\n\n  const changeFavTab = tab => setFavTab(tab);\n\n  return __jsx(\"div\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, __jsx(LoadingScreen, {\n    loading: auth.isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, auth.user && auth.user.uid === router.query.id ? __jsx(ProfilePrive, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }) : __jsx(React.Fragment, null, __jsx(Banner, {\n    context: \"public\",\n    profile: profile,\n    favAuthors: favAuthors,\n    followers: followers,\n    changeFavTab: changeFavTab,\n    favTab: favTab,\n    setCurrentTab: setCurrentTab,\n    isFollowing: isFollowing,\n    followUser: followUser,\n    unfollowUser: unfollowUser,\n    auth: auth,\n    id: router.query.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }), __jsx(\"section\", {\n    className: \"profile-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, __jsx(Tabs, {\n    currentTab: currentTab,\n    tabs: tabs,\n    changeTab: changeTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }), currentTab === \"stories\" && __jsx(Stories, {\n    auth: auth,\n    loading: loading,\n    type: \"show\",\n    stories: stories,\n    type: \"privateProfile\",\n    context: \"public\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }), currentTab === \"characters\" && __jsx(Characters, {\n    context: \"public\",\n    characters: characters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }), currentTab === \"locations\" && __jsx(Locations, {\n    context: \"public\",\n    locations: locations,\n    type: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }), currentTab === \"favorites stories\" && __jsx(Stories, {\n    type: \"favorites\",\n    loading: loading,\n    stories: favoriteStories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }), currentTab === \"favorites characters\" && __jsx(Characters, {\n    type: \"favorites\",\n    characters: favoriteCharacters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }), currentTab === \"followers\" && __jsx(Followers, {\n    title: \"Followers\",\n    type: \"followers\",\n    lg: 4,\n    md: 6,\n    sm: 8,\n    xs: 12,\n    items: followers.authors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }), currentTab === \"followings\" && __jsx(Followers, {\n    title: \"Followings\",\n    type: \"followings\",\n    lg: 4,\n    md: 6,\n    sm: 8,\n    xs: 12,\n    items: favAuthors.authors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  })))));\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  profile: state.auth.profile,\n  stories: state.stories.userStories,\n  characters: state.characters.userCharacters,\n  favAuthors: state.auth.favAuthors,\n  followers: state.auth.followers,\n  favCharacters: state.characters.favCharacters,\n  favStories: state.stories.favStories,\n  locations: state.stories.userLocations,\n  loading: state.stories.loading,\n  isFollowing: state.auth.isFollowing\n});\n\nexport default connect(mapStateToProps, {\n  getProfile,\n  getUserStories,\n  getUserCharacters,\n  getFavoriteAuthors,\n  getFollowers,\n  getFavoriteCharacters,\n  getFavoriteStories,\n  getUserLocations,\n  followUser,\n  unfollowUser,\n  getIsFollowing\n})(Profile);","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/pages/profile/[id]/index.js"],"names":["React","useEffect","useState","connect","useRouter","Modal","Button","ProfilePrive","Banner","Tabs","Stories","Characters","Followers","Locations","getProfile","followUser","unfollowUser","getIsFollowing","getUserStories","getFavoriteStories","getUserLocations","getUserCharacters","getFavoriteCharacters","getFavoriteAuthors","getFollowers","useAuth","LoadingScreen","RedirectComp","Profile","profile","stories","locations","characters","isFollowing","favAuthors","followers","favCharacters","favStories","loading","tabs","currentTab","setCurrentTab","favTab","setFavTab","favoriteStories","setFavoriteStories","favoriteCharacters","setFavoriteCharacters","changeTab","tab","auth","router","query","id","user","filter","s","public","authorId","uid","changeFavTab","isLoading","authors","mapStateToProps","state","ownProps","userStories","userCharacters","userLocations"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useRouter } from \"next/router\";\r\nimport { Modal, Button } from \"antd\";\r\n\r\nimport ProfilePrive from \"../index\";\r\nimport Banner from \"../../../components/profile/Banner\";\r\nimport Tabs from \"../../../components/profile/Tabs\";\r\nimport Stories from \"../../../components/profile/Stories\";\r\nimport Characters from \"../../../components/profile/Characters\";\r\nimport Followers from \"../../../components/profile/Followers\";\r\nimport Locations from \"../../../components/profile/Locations\";\r\n\r\nimport {\r\n  getProfile,\r\n  followUser,\r\n  unfollowUser,\r\n  getIsFollowing,\r\n} from \"../../../redux/actions/userActions\";\r\nimport {\r\n  getUserStories,\r\n  getFavoriteStories,\r\n  getUserLocations,\r\n} from \"../../../redux/actions/storiesActions\";\r\nimport {\r\n  getUserCharacters,\r\n  getFavoriteCharacters,\r\n} from \"../../../redux/actions/charactersActions\";\r\nimport {\r\n  getFavoriteAuthors,\r\n  getFollowers,\r\n} from \"../../../redux/actions/userActions\";\r\nimport { useAuth } from \"../../../hooks/userHooks\";\r\nimport LoadingScreen from \"../../../components/hoc/LoadingScreen\";\r\nimport RedirectComp from \"../../../components/hoc/RedirectComp\";\r\n\r\nconst Profile = ({\r\n  getProfile,\r\n  profile,\r\n  stories,\r\n  locations,\r\n  getUserStories,\r\n  followUser,\r\n  unfollowUser,\r\n  getIsFollowing,\r\n  getUserCharacters,\r\n  getFavoriteAuthors,\r\n  getFavoriteCharacters,\r\n  getFavoriteStories,\r\n  getUserLocations,\r\n  getFollowers,\r\n  characters,\r\n  isFollowing,\r\n  favAuthors,\r\n  followers,\r\n  favCharacters,\r\n  favStories,\r\n  loading,\r\n}) => {\r\n  const [tabs] = useState([\r\n    \"stories\",\r\n    \"characters\",\r\n    \"locations\",\r\n    \"favorites stories\",\r\n    \"favorites characters\",\r\n    \"followers\",\r\n    \"followings\",\r\n  ]);\r\n  const [currentTab, setCurrentTab] = useState(\"stories\");\r\n  const [favTab, setFavTab] = useState(\"favauthors\");\r\n  const [favoriteStories, setFavoriteStories] = useState([]);\r\n  const [favoriteCharacters, setFavoriteCharacters] = useState(favCharacters);\r\n  const changeTab = (tab) => setCurrentTab(tab);\r\n\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (router.query.id) {\r\n      getProfile(router.query.id);\r\n\r\n      getUserStories(router.query.id);\r\n      getUserCharacters(router.query.id);\r\n      getFavoriteAuthors(router.query.id);\r\n      getFollowers(router.query.id);\r\n      getFavoriteCharacters(router.query.id);\r\n      getFavoriteStories(router.query.id);\r\n      getUserLocations(router.query.id);\r\n    }\r\n  }, [router.query.id]);\r\n\r\n  useEffect(() => {\r\n    if (auth.user) {\r\n      getIsFollowing(router.query.id);\r\n    }\r\n  }, [auth]);\r\n\r\n  useEffect(() => {\r\n    setFavoriteStories(\r\n      favStories.filter((s) => s.public || s.authorId === auth.user.uid)\r\n    );\r\n    setFavoriteCharacters(\r\n      favCharacters.filter((s) => s.public || s.authorId === auth.user.uid)\r\n    );\r\n  }, [auth, favStories, favCharacters]);\r\n\r\n  const changeFavTab = (tab) => setFavTab(tab);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <LoadingScreen loading={auth.isLoading}>\r\n        {auth.user && auth.user.uid === router.query.id ? (\r\n          <ProfilePrive />\r\n        ) : (\r\n          <>\r\n            <Banner\r\n              context=\"public\"\r\n              profile={profile}\r\n              favAuthors={favAuthors}\r\n              followers={followers}\r\n              changeFavTab={changeFavTab}\r\n              favTab={favTab}\r\n              setCurrentTab={setCurrentTab}\r\n              isFollowing={isFollowing}\r\n              followUser={followUser}\r\n              unfollowUser={unfollowUser}\r\n              auth={auth}\r\n              id={router.query.id}\r\n            />\r\n            <section className=\"profile-content\">\r\n              <Tabs currentTab={currentTab} tabs={tabs} changeTab={changeTab} />\r\n              {currentTab === \"stories\" && (\r\n                <Stories\r\n                  auth={auth}\r\n                  loading={loading}\r\n                  type={\"show\"}\r\n                  stories={stories}\r\n                  type={\"privateProfile\"}\r\n                  context=\"public\"\r\n                />\r\n              )}\r\n              {currentTab === \"characters\" && (\r\n                <Characters context=\"public\" characters={characters} />\r\n              )}\r\n              {currentTab === \"locations\" && (\r\n                <Locations\r\n                  context=\"public\"\r\n                  locations={locations}\r\n                  type=\"profile\"\r\n                />\r\n              )}\r\n              {currentTab === \"favorites stories\" && (\r\n                <Stories\r\n                  type=\"favorites\"\r\n                  loading={loading}\r\n                  stories={favoriteStories}\r\n                />\r\n              )}\r\n              {currentTab === \"favorites characters\" && (\r\n                <Characters type=\"favorites\" characters={favoriteCharacters} />\r\n              )}\r\n              {currentTab === \"followers\" && (\r\n                <Followers\r\n                  title=\"Followers\"\r\n                  type={\"followers\"}\r\n                  lg={4}\r\n                  md={6}\r\n                  sm={8}\r\n                  xs={12}\r\n                  items={followers.authors}\r\n                />\r\n              )}\r\n              {currentTab === \"followings\" && (\r\n                <Followers\r\n                  title=\"Followings\"\r\n                  type={\"followings\"}\r\n                  lg={4}\r\n                  md={6}\r\n                  sm={8}\r\n                  xs={12}\r\n                  items={favAuthors.authors}\r\n                />\r\n              )}\r\n            </section>\r\n          </>\r\n        )}\r\n      </LoadingScreen>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  profile: state.auth.profile,\r\n  stories: state.stories.userStories,\r\n  characters: state.characters.userCharacters,\r\n  favAuthors: state.auth.favAuthors,\r\n  followers: state.auth.followers,\r\n  favCharacters: state.characters.favCharacters,\r\n  favStories: state.stories.favStories,\r\n  locations: state.stories.userLocations,\r\n  loading: state.stories.loading,\r\n  isFollowing: state.auth.isFollowing,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getProfile,\r\n  getUserStories,\r\n  getUserCharacters,\r\n  getFavoriteAuthors,\r\n  getFollowers,\r\n  getFavoriteCharacters,\r\n  getFavoriteStories,\r\n  getUserLocations,\r\n  followUser,\r\n  unfollowUser,\r\n  getIsFollowing,\r\n})(Profile);\r\n"]},"metadata":{},"sourceType":"module"}