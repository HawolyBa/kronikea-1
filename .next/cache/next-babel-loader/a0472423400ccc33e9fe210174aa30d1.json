{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\pages\\\\profile\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Modal, Button } from \"antd\";\nimport Banner from \"../../components/profile/Banner\";\nimport Tabs from \"../../components/profile/Tabs\";\nimport Stories from \"../../components/profile/Stories\";\nimport Characters from \"../../components/profile/Characters\";\nimport Followers from \"../../components/profile/Followers\";\nimport Locations from \"../../components/profile/Locations\";\nimport Settings from \"../../components/profile/Settings\"; //import Loader from \"../../components/common/Loader\";\n\nimport { getProfile } from \"../../redux/actions/userActions\";\nimport { getUserStories, getFavoriteStories } from \"../../redux/actions/storiesActions\";\nimport { getUserCharacters, getFavoriteCharacters } from \"../../redux/actions/charactersActions\";\nimport { getFavoriteAuthors, getFollowers } from \"../../redux/actions/userActions\";\nimport { useAuth } from \"../../hooks/userHooks\";\nimport LoadingScreen from \"../../components/hoc/LoadingScreen\";\nimport RedirectComp from \"../../components/hoc/RedirectComp\";\n\nconst Profile = ({\n  getProfile,\n  profile,\n  stories,\n  getUserStories,\n  getUserCharacters,\n  getFavoriteAuthors,\n  getFavoriteCharacters,\n  getFavoriteStories,\n  getFollowers,\n  characters,\n  favAuthors,\n  followers,\n  favCharacters,\n  favStories\n}) => {\n  const {\n    0: tabs\n  } = useState([\"stories\", \"characters\", \"locations\", \"favorites stories\", \"favorites characters\", \"followers\", \"followings\"]);\n  const {\n    0: modalVisible,\n    1: setModalVisible\n  } = useState(false);\n  const {\n    0: settings,\n    1: openSettings\n  } = useState(false);\n  const {\n    0: currentTab,\n    1: setCurrentTab\n  } = useState(\"stories\");\n  const {\n    0: favTab,\n    1: setFavTab\n  } = useState(\"favauthors\");\n\n  const changeTab = tab => setCurrentTab(tab);\n\n  const auth = useAuth();\n  useEffect(() => {\n    if (auth.user) {\n      getProfile();\n      getUserStories();\n      getUserCharacters(auth.user.uid);\n      getFavoriteAuthors();\n      getFollowers();\n      getFavoriteCharacters();\n      getFavoriteStories();\n    }\n  }, [auth]);\n\n  const changeFavTab = tab => setFavTab(tab);\n\n  return __jsx(\"div\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, __jsx(LoadingScreen, {\n    loading: auth.isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, __jsx(RedirectComp, {\n    condition: !auth.user,\n    type: \"redirect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, __jsx(Banner, {\n    profile: profile,\n    openSettings: openSettings,\n    setModalVisible: setModalVisible,\n    favAuthors: favAuthors,\n    followers: followers,\n    changeFavTab: changeFavTab,\n    favTab: favTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), __jsx(\"section\", {\n    className: \"profile-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, __jsx(Tabs, {\n    currentTab: currentTab,\n    tabs: tabs,\n    changeTab: changeTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), currentTab === \"stories\" && __jsx(Stories, {\n    stories: stories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 42\n    }\n  }), currentTab === \"characters\" && __jsx(Characters, {\n    characters: characters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }), currentTab === \"locations\" && __jsx(Locations, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 44\n    }\n  }), currentTab === \"favorites stories\" && __jsx(Stories, {\n    stories: favStories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }), currentTab === \"favorites characters\" && __jsx(Characters, {\n    type: \"favorites\",\n    characters: favCharacters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }), currentTab === \"followers\" && __jsx(Followers, {\n    lg: 4,\n    md: 6,\n    sm: 8,\n    xs: 12,\n    items: followers.authors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }), currentTab === \"followings\" && __jsx(Followers, {\n    lg: 4,\n    md: 6,\n    sm: 8,\n    xs: 12,\n    items: favAuthors.authors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  })), __jsx(Modal, {\n    title: \"Settings\",\n    visible: settings,\n    onOk: () => openSettings(false),\n    onCancel: () => openSettings(false),\n    footer: [__jsx(Button, {\n      key: \"submit\",\n      type: \"primary\",\n      onClick: () => openSettings(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }\n    }, \"Submit\")],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, __jsx(Settings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  })))));\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  profile: state.auth.profile,\n  stories: state.stories.userStories,\n  characters: state.characters.userCharacters,\n  favAuthors: state.auth.favAuthors,\n  followers: state.auth.followers,\n  favCharacters: state.characters.favCharacters,\n  favStories: state.stories.favStories\n});\n\nexport default connect(mapStateToProps, {\n  getProfile,\n  getUserStories,\n  getUserCharacters,\n  getFavoriteAuthors,\n  getFollowers,\n  getFavoriteCharacters,\n  getFavoriteStories\n})(Profile);","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/pages/profile/index.js"],"names":["React","useEffect","useState","connect","Row","Modal","Button","Banner","Tabs","Stories","Characters","Followers","Locations","Settings","getProfile","getUserStories","getFavoriteStories","getUserCharacters","getFavoriteCharacters","getFavoriteAuthors","getFollowers","useAuth","LoadingScreen","RedirectComp","Profile","profile","stories","characters","favAuthors","followers","favCharacters","favStories","tabs","modalVisible","setModalVisible","settings","openSettings","currentTab","setCurrentTab","favTab","setFavTab","changeTab","tab","auth","user","uid","changeFavTab","isLoading","authors","mapStateToProps","state","ownProps","userStories","userCharacters"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Row, Modal, Button } from \"antd\";\r\n\r\nimport Banner from \"../../components/profile/Banner\";\r\nimport Tabs from \"../../components/profile/Tabs\";\r\nimport Stories from \"../../components/profile/Stories\";\r\nimport Characters from \"../../components/profile/Characters\";\r\nimport Followers from \"../../components/profile/Followers\";\r\nimport Locations from \"../../components/profile/Locations\";\r\nimport Settings from \"../../components/profile/Settings\";\r\n//import Loader from \"../../components/common/Loader\";\r\n\r\nimport { getProfile } from \"../../redux/actions/userActions\";\r\nimport {\r\n  getUserStories,\r\n  getFavoriteStories,\r\n} from \"../../redux/actions/storiesActions\";\r\nimport {\r\n  getUserCharacters,\r\n  getFavoriteCharacters,\r\n} from \"../../redux/actions/charactersActions\";\r\nimport {\r\n  getFavoriteAuthors,\r\n  getFollowers,\r\n} from \"../../redux/actions/userActions\";\r\nimport { useAuth } from \"../../hooks/userHooks\";\r\nimport LoadingScreen from \"../../components/hoc/LoadingScreen\";\r\nimport RedirectComp from \"../../components/hoc/RedirectComp\";\r\n\r\nconst Profile = ({\r\n  getProfile,\r\n  profile,\r\n  stories,\r\n  getUserStories,\r\n  getUserCharacters,\r\n  getFavoriteAuthors,\r\n  getFavoriteCharacters,\r\n  getFavoriteStories,\r\n  getFollowers,\r\n  characters,\r\n  favAuthors,\r\n  followers,\r\n  favCharacters,\r\n  favStories,\r\n}) => {\r\n  const [tabs] = useState([\r\n    \"stories\",\r\n    \"characters\",\r\n    \"locations\",\r\n    \"favorites stories\",\r\n    \"favorites characters\",\r\n    \"followers\",\r\n    \"followings\",\r\n  ]);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [settings, openSettings] = useState(false);\r\n  const [currentTab, setCurrentTab] = useState(\"stories\");\r\n  const [favTab, setFavTab] = useState(\"favauthors\");\r\n  const changeTab = (tab) => setCurrentTab(tab);\r\n\r\n  const auth = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (auth.user) {\r\n      getProfile();\r\n      getUserStories();\r\n      getUserCharacters(auth.user.uid);\r\n      getFavoriteAuthors();\r\n      getFollowers();\r\n      getFavoriteCharacters();\r\n      getFavoriteStories();\r\n    }\r\n  }, [auth]);\r\n\r\n  const changeFavTab = (tab) => setFavTab(tab);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <LoadingScreen loading={auth.isLoading}>\r\n        <RedirectComp condition={!auth.user} type=\"redirect\">\r\n          <Banner\r\n            profile={profile}\r\n            openSettings={openSettings}\r\n            setModalVisible={setModalVisible}\r\n            favAuthors={favAuthors}\r\n            followers={followers}\r\n            changeFavTab={changeFavTab}\r\n            favTab={favTab}\r\n          />\r\n          <section className=\"profile-content\">\r\n            <Tabs currentTab={currentTab} tabs={tabs} changeTab={changeTab} />\r\n            {currentTab === \"stories\" && <Stories stories={stories} />}\r\n            {currentTab === \"characters\" && (\r\n              <Characters characters={characters} />\r\n            )}\r\n            {currentTab === \"locations\" && <Locations />}\r\n            {currentTab === \"favorites stories\" && (\r\n              <Stories stories={favStories} />\r\n            )}\r\n            {currentTab === \"favorites characters\" && (\r\n              <Characters type=\"favorites\" characters={favCharacters} />\r\n            )}\r\n            {currentTab === \"followers\" && (\r\n              <Followers\r\n                lg={4}\r\n                md={6}\r\n                sm={8}\r\n                xs={12}\r\n                items={followers.authors}\r\n              />\r\n            )}\r\n            {currentTab === \"followings\" && (\r\n              <Followers\r\n                lg={4}\r\n                md={6}\r\n                sm={8}\r\n                xs={12}\r\n                items={favAuthors.authors}\r\n              />\r\n            )}\r\n          </section>\r\n          <Modal\r\n            title=\"Settings\"\r\n            visible={settings}\r\n            onOk={() => openSettings(false)}\r\n            onCancel={() => openSettings(false)}\r\n            footer={[\r\n              <Button\r\n                key=\"submit\"\r\n                type=\"primary\"\r\n                onClick={() => openSettings(false)}\r\n              >\r\n                Submit\r\n              </Button>,\r\n            ]}\r\n          >\r\n            <Settings />\r\n          </Modal>\r\n        </RedirectComp>\r\n      </LoadingScreen>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  profile: state.auth.profile,\r\n  stories: state.stories.userStories,\r\n  characters: state.characters.userCharacters,\r\n  favAuthors: state.auth.favAuthors,\r\n  followers: state.auth.followers,\r\n  favCharacters: state.characters.favCharacters,\r\n  favStories: state.stories.favStories,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getProfile,\r\n  getUserStories,\r\n  getUserCharacters,\r\n  getFavoriteAuthors,\r\n  getFollowers,\r\n  getFavoriteCharacters,\r\n  getFavoriteStories,\r\n})(Profile);\r\n"]},"metadata":{},"sourceType":"module"}