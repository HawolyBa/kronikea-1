{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\pages\\\\story\\\\new.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { Row, Col, Space, Divider, Form, Spin, message, Input, Select } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport { CATEGORIES, COPYRIGHTS, LANGUAGES, STATUS } from \"../../utils/constants\";\nimport { useAuth } from \"../../hooks/userHooks\";\nimport { getUserCharacters } from \"../../redux/actions/charactersActions\";\nimport { addStory } from \"../../redux/actions/storiesActions\";\nimport InputGroup from \"../../components/common/Input\";\nimport SelectGroup from \"../../components/common/Select\";\nimport Tags from \"../../components/forms/Tags\";\nimport UploadImage from \"../../components/forms/UploadImage\";\nimport Loader from \"../../components/common/Loader\";\nimport RadioButon from \"../../components/forms/RadioButon\";\nconst {\n  Option\n} = Select;\n\nconst NewStory = props => {\n  var _props$characters$fil;\n\n  const auth = useAuth();\n  const [form] = Form.useForm();\n  const router = useRouter();\n  const [currentChar, setCurrentChar] = React.useState(\"\");\n\n  const addCharacter = () => {\n    var _form$getFieldValue, _form$getFieldValue2;\n\n    if (currentChar && ((_form$getFieldValue = form.getFieldValue(\"mainCharacters\")) === null || _form$getFieldValue === void 0 ? void 0 : _form$getFieldValue.indexOf(currentChar)) === -1 && ((_form$getFieldValue2 = form.getFieldValue(\"mainCharacters\")) === null || _form$getFieldValue2 === void 0 ? void 0 : _form$getFieldValue2.length) < 5) {\n      form.setFieldsValue({\n        mainCharacters: [...form.getFieldValue(\"mainCharacters\"), currentChar]\n      });\n    }\n\n    setCurrentChar(\"\"); // form.setFieldsValue({})\n\n    console.log(form.getFieldValue(\"mainCharacters\"));\n  };\n\n  const submit = values => {\n    console.log(values);\n  };\n\n  const onFailed = error => {\n    const errorName = error.errorFields[0].name.toString();\n    form.scrollToField(errorName); //message.error(\"There are errors\");\n  };\n\n  React.useEffect(() => {\n    if (auth.user) {\n      props.getUserCharacters();\n    }\n  }, [auth]);\n  React.useEffect(() => {\n    form.setFieldsValue({\n      tags: []\n    });\n    form.setFieldsValue({\n      mainCharacters: []\n    }); // form.setFieldsValue({ currentChar: \"\" });\n  }, []);\n\n  const filterSort = (a, b) => {\n    const keyA = a.name,\n          keyB = b.name; // Compare the 2 dates\n\n    if (keyA < keyB) return -1;\n    if (keyA > keyB) return 1;\n    return 0;\n  };\n\n  console.log(form.getFieldValue(\"currentChar\"));\n  return __jsx(\"div\", {\n    className: \"new-story custom-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    className: \"side-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Add a new story\"), __jsx(Form, {\n    layout: \"vertical\",\n    scrollToFirstError: true,\n    onFinishFailed: onFailed,\n    onFinish: submit,\n    form: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    gutter: [24, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    sm: 24,\n    xs: 24,\n    md: 18,\n    lg: 18,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    colon: false,\n    name: \"title\",\n    rules: [{\n      required: true,\n      message: \"A title is required\"\n    }, {\n      max: 65\n    }],\n    label: \"Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, __jsx(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }))), __jsx(Col, {\n    sm: 24,\n    xs: 24,\n    lg: 6,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    name: \"categories\",\n    label: \"Categories\",\n    rules: [{\n      required: true,\n      message: \"At least 1 category is required\"\n    }, {\n      max: 2,\n      type: \"array\",\n      message: \"You can only select up to 2 categories\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, __jsx(Select, {\n    mode: \"multiple\",\n    allowClear: true,\n    maxTagCount: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, CATEGORIES === null || CATEGORIES === void 0 ? void 0 : CATEGORIES.sort((a, b) => {\n    const keyA = a.name,\n          keyB = b.name; // Compare the 2 dates\n\n    if (keyA < keyB) return -1;\n    if (keyA > keyB) return 1;\n    return 0;\n  }).map(cat => __jsx(Option, {\n    value: cat.value,\n    key: cat.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, cat.name)))))), __jsx(Row, {\n    gutter: [24, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    md: 8,\n    sm: 24,\n    xs: 24,\n    lg: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    name: \"language\",\n    label: \"Language\",\n    rules: [{\n      required: true,\n      message: \"A language is required\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, __jsx(Select, {\n    filterSort: filterSort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, LANGUAGES === null || LANGUAGES === void 0 ? void 0 : LANGUAGES.map(lang => __jsx(Option, {\n    value: lang.value,\n    key: lang.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, lang.name))))), __jsx(Col, {\n    md: 8,\n    sm: 24,\n    xs: 24,\n    lg: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    name: \"status\",\n    label: \"Status\",\n    rules: [{\n      required: true,\n      message: \"A status is required\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  }, __jsx(Select, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, STATUS.map(stat => __jsx(Option, {\n    value: stat.value,\n    key: stat.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, stat.name))))), __jsx(Col, {\n    md: 8,\n    sm: 24,\n    xs: 24,\n    lg: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    name: \"copyright\",\n    label: \"Copyright\",\n    rules: [{\n      required: true,\n      message: \"A copyright is required\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  }, __jsx(Select, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, COPYRIGHTS.map(copy => __jsx(Option, {\n    value: copy.value,\n    key: copy.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, copy.name)))))), __jsx(Form.Item, {\n    label: \"Summary\",\n    name: \"summary\",\n    rules: [{\n      max: 180,\n      message: \"Your summary cannot exceed 180 characters\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, __jsx(Input.TextArea, {\n    autoSize: {\n      minRows: 5\n    },\n    showCount: true,\n    maxLength: 180,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  })), __jsx(Row, {\n    justify: \"space-between\",\n    gutter: [24, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }, __jsx(RadioButon, {\n    lg: 4,\n    sm: 12,\n    xs: 24,\n    md: 8,\n    name: \"public\",\n    label: \"Visibility\",\n    num1: \"3\",\n    num2: \"4\",\n    label1: \"Public\",\n    label2: \"Private\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }), __jsx(RadioButon, {\n    lg: 4,\n    sm: 12,\n    xs: 24,\n    md: 8,\n    name: \"mature\",\n    label: \"Mature content ?\",\n    num1: \"1\",\n    num2: \"2\",\n    label1: \"Yes\",\n    label2: \"No\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }\n  }), __jsx(Col, {\n    lg: 8,\n    md: 12,\n    sm: 24,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    label: \"Tags\",\n    name: \"tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 15\n    }\n  }, __jsx(Tags, {\n    form: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  })))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }\n  }), __jsx(Form.Item, {\n    name: \"mainCharacters\",\n    label: \"Main Characters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }\n  }, __jsx(Row, {\n    gutter: [24, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }\n  }, __jsx(Col, {\n    lg: 12,\n    md: 24,\n    sm: 24,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    gutter: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 17\n    }\n  }, __jsx(Col, {\n    span: 22,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 19\n    }\n  }, __jsx(Form.Item, {\n    name: \"currentChar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 21\n    }\n  }, __jsx(Select, {\n    defaultValue: \"none\",\n    onChange: val => setCurrentChar(val),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 23\n    }\n  }, __jsx(Option, {\n    value: \"none\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 25\n    }\n  }, \"Choose\"), (_props$characters$fil = props.characters.filter(c => {\n    var _form$getFieldValue3;\n\n    return ((_form$getFieldValue3 = form.getFieldValue(\"mainCharacters\")) === null || _form$getFieldValue3 === void 0 ? void 0 : _form$getFieldValue3.indexOf(c.id)) === -1;\n  })) === null || _props$characters$fil === void 0 ? void 0 : _props$characters$fil.sort((a, b) => {\n    const keyA = a.firstname,\n          keyB = b.firstname; // Compare the 2 dates\n\n    if (keyA < keyB) return -1;\n    if (keyA > keyB) return 1;\n    return 0;\n  }).map(char => __jsx(Option, {\n    key: char.id,\n    value: char.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 29\n    }\n  }, `${char.firstname} ${char.lastname}`))))), __jsx(Col, {\n    span: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"select-add-input-iconbox\",\n    onClick: addCharacter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 23\n    }\n  }, \"+\"))), __jsx(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 19\n    }\n  }, \"You can add up to 5 main characters\"))), __jsx(Col, {\n    lg: 12,\n    md: 24,\n    sm: 24,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    gutter: [16, 16],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 17\n    }\n  }, props.characters.filter(c => {\n    var _form$getFieldValue4;\n\n    return ((_form$getFieldValue4 = form.getFieldValue(\"mainCharacters\")) === null || _form$getFieldValue4 === void 0 ? void 0 : _form$getFieldValue4.indexOf(c.id)) !== -1;\n  }).map(char => __jsx(Col, {\n    md: 12,\n    sm: 24,\n    key: char.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    key: char.id,\n    className: \"main-selected\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"main-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 27\n    }\n  }, __jsx(\"img\", {\n    src: char.image,\n    alt: char.firstname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 29\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 27\n    }\n  }, `${char.firstname} ${char.lastname}`, \" \"), __jsx(\"ion-icon\", {\n    onClick: () => removeCharacter(char.id),\n    name: \"close-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 27\n    }\n  })))))))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 11\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 11\n    }\n  }, \"Create\"))));\n};\n\nconst mapStateToProps = state => ({\n  characters: state.characters.userCharacters,\n  confirmMessage: state.stories.message,\n  storyId: state.stories.storyId,\n  loading: state.stories.loadingStory\n});\n\nexport default connect(mapStateToProps, {\n  getUserCharacters,\n  addStory\n})(NewStory);","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/pages/story/new.js"],"names":["React","Row","Col","Space","Divider","Form","Spin","message","Input","Select","connect","useRouter","CATEGORIES","COPYRIGHTS","LANGUAGES","STATUS","useAuth","getUserCharacters","addStory","InputGroup","SelectGroup","Tags","UploadImage","Loader","RadioButon","Option","NewStory","props","auth","form","useForm","router","currentChar","setCurrentChar","useState","addCharacter","getFieldValue","indexOf","length","setFieldsValue","mainCharacters","console","log","submit","values","onFailed","error","errorName","errorFields","name","toString","scrollToField","useEffect","user","tags","filterSort","a","b","keyA","keyB","required","max","type","sort","map","cat","value","lang","stat","copy","minRows","val","characters","filter","c","id","firstname","char","lastname","image","removeCharacter","mapStateToProps","state","userCharacters","confirmMessage","stories","storyId","loading","loadingStory"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,GADF,EAEEC,GAFF,EAGEC,KAHF,EAIEC,OAJF,EAKEC,IALF,EAMEC,IANF,EAOEC,OAPF,EAQEC,KARF,EASEC,MATF,QAUO,MAVP;AAWA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,SACEC,UADF,EAEEC,UAFF,EAGEC,SAHF,EAIEC,MAJF,QAKO,uBALP;AAMA,SAASC,OAAT,QAAwB,uBAAxB;AACA,SAASC,iBAAT,QAAkC,uCAAlC;AACA,SAASC,QAAT,QAAyB,oCAAzB;AAEA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAahB,MAAnB;;AAEA,MAAMiB,QAAQ,GAAIC,KAAD,IAAW;AAAA;;AAC1B,QAAMC,IAAI,GAAGZ,OAAO,EAApB;AACA,QAAM,CAACa,IAAD,IAASxB,IAAI,CAACyB,OAAL,EAAf;AACA,QAAMC,MAAM,GAAGpB,SAAS,EAAxB;AAEA,QAAM,CAACqB,WAAD,EAAcC,cAAd,IAAgCjC,KAAK,CAACkC,QAAN,CAAe,EAAf,CAAtC;;AAEA,QAAMC,YAAY,GAAG,MAAM;AAAA;;AACzB,QACEH,WAAW,IACX,wBAAAH,IAAI,CAACO,aAAL,CAAmB,gBAAnB,6EAAsCC,OAAtC,CAA8CL,WAA9C,OAA+D,CAAC,CADhE,IAEA,yBAAAH,IAAI,CAACO,aAAL,CAAmB,gBAAnB,+EAAsCE,MAAtC,IAA+C,CAHjD,EAIE;AACAT,MAAAA,IAAI,CAACU,cAAL,CAAoB;AAClBC,QAAAA,cAAc,EAAE,CAAC,GAAGX,IAAI,CAACO,aAAL,CAAmB,gBAAnB,CAAJ,EAA0CJ,WAA1C;AADE,OAApB;AAGD;;AACDC,IAAAA,cAAc,CAAC,EAAD,CAAd,CAVyB,CAWzB;;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYb,IAAI,CAACO,aAAL,CAAmB,gBAAnB,CAAZ;AACD,GAbD;;AAeA,QAAMO,MAAM,GAAIC,MAAD,IAAY;AACzBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,MAAZ;AACD,GAFD;;AAIA,QAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1B,UAAMC,SAAS,GAAGD,KAAK,CAACE,WAAN,CAAkB,CAAlB,EAAqBC,IAArB,CAA0BC,QAA1B,EAAlB;AACArB,IAAAA,IAAI,CAACsB,aAAL,CAAmBJ,SAAnB,EAF0B,CAG1B;AACD,GAJD;;AAMA/C,EAAAA,KAAK,CAACoD,SAAN,CAAgB,MAAM;AACpB,QAAIxB,IAAI,CAACyB,IAAT,EAAe;AACb1B,MAAAA,KAAK,CAACV,iBAAN;AACD;AACF,GAJD,EAIG,CAACW,IAAD,CAJH;AAMA5B,EAAAA,KAAK,CAACoD,SAAN,CAAgB,MAAM;AACpBvB,IAAAA,IAAI,CAACU,cAAL,CAAoB;AAAEe,MAAAA,IAAI,EAAE;AAAR,KAApB;AACAzB,IAAAA,IAAI,CAACU,cAAL,CAAoB;AAAEC,MAAAA,cAAc,EAAE;AAAlB,KAApB,EAFoB,CAGpB;AACD,GAJD,EAIG,EAJH;;AAMA,QAAMe,UAAU,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC3B,UAAMC,IAAI,GAAGF,CAAC,CAACP,IAAf;AAAA,UACEU,IAAI,GAAGF,CAAC,CAACR,IADX,CAD2B,CAG3B;;AACA,QAAIS,IAAI,GAAGC,IAAX,EAAiB,OAAO,CAAC,CAAR;AACjB,QAAID,IAAI,GAAGC,IAAX,EAAiB,OAAO,CAAP;AACjB,WAAO,CAAP;AACD,GAPD;;AASAlB,EAAAA,OAAO,CAACC,GAAR,CAAYb,IAAI,CAACO,aAAL,CAAmB,aAAnB,CAAZ;AAEA,SACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE,MAAC,IAAD;AACE,IAAA,MAAM,EAAC,UADT;AAEE,IAAA,kBAAkB,MAFpB;AAGE,IAAA,cAAc,EAAES,QAHlB;AAIE,IAAA,QAAQ,EAAEF,MAJZ;AAKE,IAAA,IAAI,EAAEd,IALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,MAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAqB,IAAA,EAAE,EAAE,EAAzB;AAA6B,IAAA,EAAE,EAAE,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,IAAN;AACE,IAAA,KAAK,EAAE,KADT;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAE,CACL;AACE+B,MAAAA,QAAQ,EAAE,IADZ;AAEErD,MAAAA,OAAO,EAAE;AAFX,KADK,EAKL;AAAEsD,MAAAA,GAAG,EAAE;AAAP,KALK,CAHT;AAUE,IAAA,KAAK,EAAC,OAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF,CADF,EAiBE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAqB,IAAA,EAAE,EAAE,CAAzB;AAA4B,IAAA,EAAE,EAAE,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,IAAN;AACE,IAAA,IAAI,EAAC,YADP;AAEE,IAAA,KAAK,EAAC,YAFR;AAGE,IAAA,KAAK,EAAE,CACL;AACED,MAAAA,QAAQ,EAAE,IADZ;AAEErD,MAAAA,OAAO,EAAE;AAFX,KADK,EAKL;AACEsD,MAAAA,GAAG,EAAE,CADP;AAEEC,MAAAA,IAAI,EAAE,OAFR;AAGEvD,MAAAA,OAAO,EAAE;AAHX,KALK,CAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAeE,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,UAAb;AAAwB,IAAA,UAAU,MAAlC;AAAmC,IAAA,WAAW,EAAE,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGK,UADH,aACGA,UADH,uBACGA,UAAU,CAAEmD,IAAZ,CAAiB,CAACP,CAAD,EAAIC,CAAJ,KAAU;AAC1B,UAAMC,IAAI,GAAGF,CAAC,CAACP,IAAf;AAAA,UACEU,IAAI,GAAGF,CAAC,CAACR,IADX,CAD0B,CAG1B;;AACA,QAAIS,IAAI,GAAGC,IAAX,EAAiB,OAAO,CAAC,CAAR;AACjB,QAAID,IAAI,GAAGC,IAAX,EAAiB,OAAO,CAAP;AACjB,WAAO,CAAP;AACD,GAPA,EAOEK,GAPF,CAOOC,GAAD,IACL,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEA,GAAG,CAACC,KAAnB;AAA0B,IAAA,GAAG,EAAED,GAAG,CAACC,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,GAAG,CAAChB,IADP,CARD,CADH,CAfF,CADF,CAjBF,CAPF,EAyDE,MAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,EAAE,EAAE,EAAhB;AAAoB,IAAA,EAAE,EAAE,EAAxB;AAA4B,IAAA,EAAE,EAAE,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,IAAN;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,KAAK,EAAC,UAFR;AAGE,IAAA,KAAK,EAAE,CACL;AACEW,MAAAA,QAAQ,EAAE,IADZ;AAEErD,MAAAA,OAAO,EAAE;AAFX,KADK,CAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUE,MAAC,MAAD;AAAQ,IAAA,UAAU,EAAEgD,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzC,SADH,aACGA,SADH,uBACGA,SAAS,CAAEkD,GAAX,CAAgBG,IAAD,IACd,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEA,IAAI,CAACD,KAApB;AAA2B,IAAA,GAAG,EAAEC,IAAI,CAACD,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,IAAI,CAAClB,IADR,CADD,CADH,CAVF,CADF,CADF,EAqBE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,EAAE,EAAE,EAAhB;AAAoB,IAAA,EAAE,EAAE,EAAxB;AAA4B,IAAA,EAAE,EAAE,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,IAAN;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAC,QAFR;AAGE,IAAA,KAAK,EAAE,CACL;AACEW,MAAAA,QAAQ,EAAE,IADZ;AAEErD,MAAAA,OAAO,EAAE;AAFX,KADK,CAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGQ,MAAM,CAACiD,GAAP,CAAYI,IAAD,IACV,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEA,IAAI,CAACF,KAApB;AAA2B,IAAA,GAAG,EAAEE,IAAI,CAACF,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,IAAI,CAACnB,IADR,CADD,CADH,CAVF,CADF,CArBF,EAyCE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,EAAE,EAAE,EAAhB;AAAoB,IAAA,EAAE,EAAE,EAAxB;AAA4B,IAAA,EAAE,EAAE,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,IAAN;AACE,IAAA,IAAI,EAAC,WADP;AAEE,IAAA,KAAK,EAAC,WAFR;AAGE,IAAA,KAAK,EAAE,CACL;AACEW,MAAAA,QAAQ,EAAE,IADZ;AAEErD,MAAAA,OAAO,EAAE;AAFX,KADK,CAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGM,UAAU,CAACmD,GAAX,CAAgBK,IAAD,IACd,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEA,IAAI,CAACH,KAApB;AAA2B,IAAA,GAAG,EAAEG,IAAI,CAACH,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGG,IAAI,CAACpB,IADR,CADD,CADH,CAVF,CADF,CAzCF,CAzDF,EAuHE,MAAC,IAAD,CAAM,IAAN;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,KAAK,EAAE,CACL;AACEY,MAAAA,GAAG,EAAE,GADP;AAEEtD,MAAAA,OAAO,EAAE;AAFX,KADK,CAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUE,MAAC,KAAD,CAAO,QAAP;AACE,IAAA,QAAQ,EAAE;AAAE+D,MAAAA,OAAO,EAAE;AAAX,KADZ;AAEE,IAAA,SAAS,EAAE,IAFb;AAGE,IAAA,SAAS,EAAE,GAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CAvHF,EAuIE,MAAC,GAAD;AAAK,IAAA,OAAO,EAAC,eAAb;AAA6B,IAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AACE,IAAA,EAAE,EAAE,CADN;AAEE,IAAA,EAAE,EAAE,EAFN;AAGE,IAAA,EAAE,EAAE,EAHN;AAIE,IAAA,EAAE,EAAE,CAJN;AAKE,IAAA,IAAI,EAAC,QALP;AAME,IAAA,KAAK,EAAC,YANR;AAOE,IAAA,IAAI,EAAC,GAPP;AAQE,IAAA,IAAI,EAAC,GARP;AASE,IAAA,MAAM,EAAC,QATT;AAUE,IAAA,MAAM,EAAC,SAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAaE,MAAC,UAAD;AACE,IAAA,EAAE,EAAE,CADN;AAEE,IAAA,EAAE,EAAE,EAFN;AAGE,IAAA,EAAE,EAAE,EAHN;AAIE,IAAA,EAAE,EAAE,CAJN;AAKE,IAAA,IAAI,EAAC,QALP;AAME,IAAA,KAAK,EAAC,kBANR;AAOE,IAAA,IAAI,EAAC,GAPP;AAQE,IAAA,IAAI,EAAC,GARP;AASE,IAAA,MAAM,EAAC,KATT;AAUE,IAAA,MAAM,EAAC,IAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,EAyBE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,EAAE,EAAE,EAAhB;AAAoB,IAAA,EAAE,EAAE,EAAxB;AAA4B,IAAA,EAAE,EAAE,EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,IAAN;AAAW,IAAA,KAAK,EAAC,MAAjB;AAAwB,IAAA,IAAI,EAAC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAEzC,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAzBF,CAvIF,EAsKE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtKF,EAwKE,MAAC,IAAD,CAAM,IAAN;AAAW,IAAA,IAAI,EAAC,gBAAhB;AAAiC,IAAA,KAAK,EAAC,iBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAqB,IAAA,EAAE,EAAE,EAAzB;AAA6B,IAAA,EAAE,EAAE,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,MAAM,EAAE,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,IAAN;AAAW,IAAA,IAAI,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,YAAY,EAAC,MADf;AAEE,IAAA,QAAQ,EAAG0C,GAAD,IAAStC,cAAc,CAACsC,GAAD,CAFnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAqB,IAAA,QAAQ,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,2BAOG5C,KAAK,CAAC6C,UAAN,CACEC,MADF,CAEIC,CAAD;AAAA;;AAAA,WACE,yBAAA7C,IAAI,CACDO,aADH,CACiB,gBADjB,+EAEIC,OAFJ,CAEYqC,CAAC,CAACC,EAFd,OAEsB,CAAC,CAHzB;AAAA,GAFH,CAPH,0DAOG,sBAOGZ,IAPH,CAOQ,CAACP,CAAD,EAAIC,CAAJ,KAAU;AACf,UAAMC,IAAI,GAAGF,CAAC,CAACoB,SAAf;AAAA,UACEjB,IAAI,GAAGF,CAAC,CAACmB,SADX,CADe,CAGf;;AACA,QAAIlB,IAAI,GAAGC,IAAX,EAAiB,OAAO,CAAC,CAAR;AACjB,QAAID,IAAI,GAAGC,IAAX,EAAiB,OAAO,CAAP;AACjB,WAAO,CAAP;AACD,GAdF,EAeEK,GAfF,CAeOa,IAAD,IACH,MAAC,MAAD;AACE,IAAA,GAAG,EAAEA,IAAI,CAACF,EADZ;AAEE,IAAA,KAAK,EAAEE,IAAI,CAACF,EAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGG,GAAEE,IAAI,CAACD,SAAU,IAAGC,IAAI,CAACC,QAAS,EAHrC,CAhBH,CAPH,CADF,CADF,CADF,EAkCE,MAAC,GAAD;AAAK,IAAA,IAAI,EAAE,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,0BADZ;AAEE,IAAA,OAAO,EAAE3C,YAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAJF,CADF,CAlCF,EA0CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CA1CF,CADF,CADF,EA+CE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAqB,IAAA,EAAE,EAAE,EAAzB;AAA6B,IAAA,EAAE,EAAE,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,KAAK,CAAC6C,UAAN,CACEC,MADF,CAEIC,CAAD;AAAA;;AAAA,WACE,yBAAA7C,IAAI,CAACO,aAAL,CAAmB,gBAAnB,+EAAsCC,OAAtC,CAA8CqC,CAAC,CAACC,EAAhD,OACA,CAAC,CAFH;AAAA,GAFH,EAMEX,GANF,CAMOa,IAAD,IACH,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAqB,IAAA,GAAG,EAAEA,IAAI,CAACF,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEE,IAAI,CAACF,EAAf;AAAmB,IAAA,SAAS,EAAC,eAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEE,IAAI,CAACE,KAAf;AAAsB,IAAA,GAAG,EAAEF,IAAI,CAACD,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK,GAAEC,IAAI,CAACD,SAAU,IAAGC,IAAI,CAACC,QAAS,EAAvC,MAJF,EAKE;AACE,IAAA,OAAO,EAAE,MAAME,eAAe,CAACH,IAAI,CAACF,EAAN,CADhC;AAEE,IAAA,IAAI,EAAC,cAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,CAPH,CADH,CADF,CA/CF,CADF,CAxKF,EAmPE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnPF,EAoPE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cApPF,CAFF,CADF,CADF;AA6PD,CApTD;;AAsTA,MAAMM,eAAe,GAAIC,KAAD,KAAY;AAClCV,EAAAA,UAAU,EAAEU,KAAK,CAACV,UAAN,CAAiBW,cADK;AAElCC,EAAAA,cAAc,EAAEF,KAAK,CAACG,OAAN,CAAc9E,OAFI;AAGlC+E,EAAAA,OAAO,EAAEJ,KAAK,CAACG,OAAN,CAAcC,OAHW;AAIlCC,EAAAA,OAAO,EAAEL,KAAK,CAACG,OAAN,CAAcG;AAJW,CAAZ,CAAxB;;AAOA,eAAe9E,OAAO,CAACuE,eAAD,EAAkB;AAAEhE,EAAAA,iBAAF;AAAqBC,EAAAA;AAArB,CAAlB,CAAP,CACbQ,QADa,CAAf","sourcesContent":["import React from \"react\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Space,\r\n  Divider,\r\n  Form,\r\n  Spin,\r\n  message,\r\n  Input,\r\n  Select,\r\n} from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nimport {\r\n  CATEGORIES,\r\n  COPYRIGHTS,\r\n  LANGUAGES,\r\n  STATUS,\r\n} from \"../../utils/constants\";\r\nimport { useAuth } from \"../../hooks/userHooks\";\r\nimport { getUserCharacters } from \"../../redux/actions/charactersActions\";\r\nimport { addStory } from \"../../redux/actions/storiesActions\";\r\n\r\nimport InputGroup from \"../../components/common/Input\";\r\nimport SelectGroup from \"../../components/common/Select\";\r\nimport Tags from \"../../components/forms/Tags\";\r\nimport UploadImage from \"../../components/forms/UploadImage\";\r\nimport Loader from \"../../components/common/Loader\";\r\nimport RadioButon from \"../../components/forms/RadioButon\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst NewStory = (props) => {\r\n  const auth = useAuth();\r\n  const [form] = Form.useForm();\r\n  const router = useRouter();\r\n\r\n  const [currentChar, setCurrentChar] = React.useState(\"\");\r\n\r\n  const addCharacter = () => {\r\n    if (\r\n      currentChar &&\r\n      form.getFieldValue(\"mainCharacters\")?.indexOf(currentChar) === -1 &&\r\n      form.getFieldValue(\"mainCharacters\")?.length < 5\r\n    ) {\r\n      form.setFieldsValue({\r\n        mainCharacters: [...form.getFieldValue(\"mainCharacters\"), currentChar],\r\n      });\r\n    }\r\n    setCurrentChar(\"\");\r\n    // form.setFieldsValue({})\r\n    console.log(form.getFieldValue(\"mainCharacters\"));\r\n  };\r\n\r\n  const submit = (values) => {\r\n    console.log(values);\r\n  };\r\n\r\n  const onFailed = (error) => {\r\n    const errorName = error.errorFields[0].name.toString();\r\n    form.scrollToField(errorName);\r\n    //message.error(\"There are errors\");\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (auth.user) {\r\n      props.getUserCharacters();\r\n    }\r\n  }, [auth]);\r\n\r\n  React.useEffect(() => {\r\n    form.setFieldsValue({ tags: [] });\r\n    form.setFieldsValue({ mainCharacters: [] });\r\n    // form.setFieldsValue({ currentChar: \"\" });\r\n  }, []);\r\n\r\n  const filterSort = (a, b) => {\r\n    const keyA = a.name,\r\n      keyB = b.name;\r\n    // Compare the 2 dates\r\n    if (keyA < keyB) return -1;\r\n    if (keyA > keyB) return 1;\r\n    return 0;\r\n  };\r\n\r\n  console.log(form.getFieldValue(\"currentChar\"));\r\n\r\n  return (\r\n    <div className=\"new-story custom-form\">\r\n      <div className=\"inner\">\r\n        <h2 className=\"side-heading\">Add a new story</h2>\r\n        <Form\r\n          layout=\"vertical\"\r\n          scrollToFirstError\r\n          onFinishFailed={onFailed}\r\n          onFinish={submit}\r\n          form={form}\r\n        >\r\n          <Row gutter={[24, 24]}>\r\n            <Col sm={24} xs={24} md={18} lg={18}>\r\n              <Form.Item\r\n                colon={false}\r\n                name=\"title\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"A title is required\",\r\n                  },\r\n                  { max: 65 },\r\n                ]}\r\n                label=\"Title\"\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col sm={24} xs={24} lg={6} md={6}>\r\n              <Form.Item\r\n                name=\"categories\"\r\n                label=\"Categories\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"At least 1 category is required\",\r\n                  },\r\n                  {\r\n                    max: 2,\r\n                    type: \"array\",\r\n                    message: \"You can only select up to 2 categories\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select mode=\"multiple\" allowClear maxTagCount={2}>\r\n                  {CATEGORIES?.sort((a, b) => {\r\n                    const keyA = a.name,\r\n                      keyB = b.name;\r\n                    // Compare the 2 dates\r\n                    if (keyA < keyB) return -1;\r\n                    if (keyA > keyB) return 1;\r\n                    return 0;\r\n                  }).map((cat) => (\r\n                    <Option value={cat.value} key={cat.value}>\r\n                      {cat.name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={[24, 24]}>\r\n            <Col md={8} sm={24} xs={24} lg={8}>\r\n              <Form.Item\r\n                name=\"language\"\r\n                label=\"Language\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"A language is required\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select filterSort={filterSort}>\r\n                  {LANGUAGES?.map((lang) => (\r\n                    <Option value={lang.value} key={lang.value}>\r\n                      {lang.name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={8} sm={24} xs={24} lg={8}>\r\n              <Form.Item\r\n                name=\"status\"\r\n                label=\"Status\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"A status is required\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select>\r\n                  {STATUS.map((stat) => (\r\n                    <Option value={stat.value} key={stat.value}>\r\n                      {stat.name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={8} sm={24} xs={24} lg={8}>\r\n              <Form.Item\r\n                name=\"copyright\"\r\n                label=\"Copyright\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"A copyright is required\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select>\r\n                  {COPYRIGHTS.map((copy) => (\r\n                    <Option value={copy.value} key={copy.value}>\r\n                      {copy.name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item\r\n            label=\"Summary\"\r\n            name=\"summary\"\r\n            rules={[\r\n              {\r\n                max: 180,\r\n                message: \"Your summary cannot exceed 180 characters\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input.TextArea\r\n              autoSize={{ minRows: 5 }}\r\n              showCount={true}\r\n              maxLength={180}\r\n            ></Input.TextArea>\r\n          </Form.Item>\r\n          <Row justify=\"space-between\" gutter={[24, 24]}>\r\n            <RadioButon\r\n              lg={4}\r\n              sm={12}\r\n              xs={24}\r\n              md={8}\r\n              name=\"public\"\r\n              label=\"Visibility\"\r\n              num1=\"3\"\r\n              num2=\"4\"\r\n              label1=\"Public\"\r\n              label2=\"Private\"\r\n            />\r\n            <RadioButon\r\n              lg={4}\r\n              sm={12}\r\n              xs={24}\r\n              md={8}\r\n              name=\"mature\"\r\n              label=\"Mature content ?\"\r\n              num1=\"1\"\r\n              num2=\"2\"\r\n              label1=\"Yes\"\r\n              label2=\"No\"\r\n            />\r\n            <Col lg={8} md={12} sm={24} xs={24}>\r\n              <Form.Item label=\"Tags\" name=\"tags\">\r\n                <Tags form={form} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Divider />\r\n\r\n          <Form.Item name=\"mainCharacters\" label=\"Main Characters\">\r\n            <Row gutter={[24, 24]}>\r\n              <Col lg={12} md={24} sm={24} xs={24}>\r\n                <Row gutter={16}>\r\n                  <Col span={22}>\r\n                    <Form.Item name=\"currentChar\">\r\n                      <Select\r\n                        defaultValue=\"none\"\r\n                        onChange={(val) => setCurrentChar(val)}\r\n                      >\r\n                        <Option value=\"none\" disabled>\r\n                          Choose\r\n                        </Option>\r\n                        {props.characters\r\n                          .filter(\r\n                            (c) =>\r\n                              form\r\n                                .getFieldValue(\"mainCharacters\")\r\n                                ?.indexOf(c.id) === -1\r\n                          )\r\n                          ?.sort((a, b) => {\r\n                            const keyA = a.firstname,\r\n                              keyB = b.firstname;\r\n                            // Compare the 2 dates\r\n                            if (keyA < keyB) return -1;\r\n                            if (keyA > keyB) return 1;\r\n                            return 0;\r\n                          })\r\n                          .map((char) => (\r\n                            <Option\r\n                              key={char.id}\r\n                              value={char.id}\r\n                            >{`${char.firstname} ${char.lastname}`}</Option>\r\n                          ))}\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col span={2}>\r\n                    <div\r\n                      className=\"select-add-input-iconbox\"\r\n                      onClick={addCharacter}\r\n                    >\r\n                      <span>+</span>\r\n                    </div>\r\n                  </Col>\r\n                  <small>You can add up to 5 main characters</small>\r\n                </Row>\r\n              </Col>\r\n              <Col lg={12} md={24} sm={24} xs={24}>\r\n                <Row gutter={[16, 16]}>\r\n                  {props.characters\r\n                    .filter(\r\n                      (c) =>\r\n                        form.getFieldValue(\"mainCharacters\")?.indexOf(c.id) !==\r\n                        -1\r\n                    )\r\n                    .map((char) => (\r\n                      <Col md={12} sm={24} key={char.id}>\r\n                        <div key={char.id} className=\"main-selected\">\r\n                          <div className=\"main-avatar\">\r\n                            <img src={char.image} alt={char.firstname} />\r\n                          </div>\r\n                          <p>{`${char.firstname} ${char.lastname}`} </p>\r\n                          <ion-icon\r\n                            onClick={() => removeCharacter(char.id)}\r\n                            name=\"close-circle\"\r\n                          ></ion-icon>\r\n                        </div>\r\n                      </Col>\r\n                    ))}\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Form.Item>\r\n\r\n          <Divider />\r\n          <button type=\"submit\">Create</button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  characters: state.characters.userCharacters,\r\n  confirmMessage: state.stories.message,\r\n  storyId: state.stories.storyId,\r\n  loading: state.stories.loadingStory,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUserCharacters, addStory })(\r\n  NewStory\r\n);\r\n"]},"metadata":{},"sourceType":"module"}