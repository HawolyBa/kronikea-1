{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Documents\\\\CODE\\\\kronikea-master\\\\pages\\\\story\\\\[id]\\\\edit.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { Row, Col, Space, Divider, Form, Spin, Result, Button } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport { CATEGORIES, COPYRIGHTS, LANGUAGES, STATUS } from \"../../../utils/constants\";\nimport { useAuth } from \"../../../hooks/userHooks\";\nimport { getUserCharacters } from \"../../../redux/actions/charactersActions\";\nimport { getStory } from \"../../../redux/actions/storiesActions\";\nimport InputGroup from \"../../../components/common/Input\";\nimport SelectGroup from \"../../../components/common/Select\";\nimport Tags from \"../../../components/forms/Tags\";\nimport UploadImage from \"../../../components/forms/UploadImage\";\nimport Loader from \"../../../components/common/Loader\";\n\nconst EditStory = props => {\n  var _storyInfo$mainCharac, _props$characters;\n\n  const {\n    story\n  } = props;\n  const [storyInfo, setStoryInfo] = React.useState({\n    title: story.title,\n    categories: story.categories,\n    language: story.language,\n    status: story.status,\n    copyright: story.copyright,\n    summary: story.summary,\n    mature: story.mature,\n    public: story.public,\n    tags: story.tags,\n    mainCharacters: story.mainCharacters,\n    banner: story.banner,\n    imageCopyright: story.imageCopyright\n  });\n  const [summaryCount, setSummaryCount] = React.useState(story.summary.length);\n  const [currentChar, setCurrentChar] = React.useState(\"\");\n  const auth = useAuth();\n  const [form] = Form.useForm();\n  const router = useRouter();\n  React.useEffect(() => {\n    props.getStory(router.query.id);\n  });\n  React.useEffect(() => {\n    if (auth.user) {\n      props.getUserCharacters();\n    }\n  }, [auth]);\n\n  const addCharacter = () => {\n    if (currentChar && storyInfo.mainCharacters.indexOf(currentChar) === -1 && storyInfo.mainCharacters.length < 5) {\n      setStoryInfo(_objectSpread(_objectSpread({}, storyInfo), {}, {\n        mainCharacters: [...storyInfo.mainCharacters, currentChar]\n      }));\n    }\n\n    setCurrentChar(\"\");\n  };\n\n  const removeCharacter = id => {\n    setStoryInfo(_objectSpread(_objectSpread({}, storyInfo), {}, {\n      mainCharacters: storyInfo.mainCharacters.filter(c => c !== id)\n    }));\n  };\n\n  const submitStory = values => {// props.addStory({\n    //   ...values,\n    //   authorName: auth.user.username,\n    //   banner: storyInfo.banner,\n    //   tags: storyInfo.tags,\n    //   summary: values.summary ? values.summary : \"\",\n    //   imageCopyright: values.imageCopyright ? values.imageCopyright : \"\",\n    //   mature: storyInfo.mature,\n    //   public: storyInfo.public,\n    //   mainCharacters: storyInfo.mainCharacters,\n    // });\n  };\n\n  console.log(story);\n  return auth.isLoading && !story.title ? __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }) : auth.user.uid && story.authorId === auth.user.uid ? __jsx(\"div\", {\n    className: \"new-story custom-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    className: \"side-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"Edit story\"), __jsx(Form, {\n    form: form,\n    layout: \"vertical\",\n    className: \"form-group\",\n    onFinish: submitStory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    gutter: [24, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, __jsx(InputGroup, {\n    required: true,\n    sm: 24,\n    xs: 24,\n    md: 18,\n    lg: 18,\n    type: \"text\",\n    name: \"title\",\n    placeholder: \"Enter a title\",\n    value: storyInfo.title,\n    onChangeFunc: setStoryInfo,\n    storyInfo: storyInfo,\n    rules: [{\n      required: true,\n      message: \"A title is required\"\n    }, {\n      max: 70\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), __jsx(SelectGroup, {\n    sm: 24,\n    xs: 24,\n    lg: 6,\n    md: 6,\n    name: \"categories\",\n    options: CATEGORIES,\n    value: storyInfo.categories,\n    onChangeFunc: setStoryInfo,\n    storyInfo: storyInfo,\n    type: \"multiple\",\n    form: form,\n    rules: [{\n      required: true,\n      message: \"At least 1 category is required\"\n    }, {\n      max: 2,\n      type: \"array\",\n      message: \"You can only select up to 2 categories\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  })), __jsx(Row, {\n    gutter: [24, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, __jsx(SelectGroup, {\n    md: 8,\n    sm: 24,\n    xs: 24,\n    lg: 8,\n    name: \"language\",\n    options: LANGUAGES,\n    value: storyInfo.language,\n    onChangeFunc: setStoryInfo,\n    storyInfo: storyInfo,\n    type: \"single\",\n    form: form,\n    rules: [{\n      required: true,\n      message: \"A language is required\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }), __jsx(SelectGroup, {\n    md: 8,\n    sm: 24,\n    xs: 24,\n    lg: 8,\n    name: \"status\",\n    options: STATUS,\n    info: \"info about status\",\n    value: storyInfo.status,\n    onChangeFunc: setStoryInfo,\n    storyInfo: storyInfo,\n    type: \"single\",\n    form: form,\n    rules: [{\n      required: true,\n      message: \"A status is required\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }), __jsx(SelectGroup, {\n    md: 8,\n    sm: 24,\n    xs: 24,\n    lg: 8,\n    name: \"copyright\",\n    options: COPYRIGHTS,\n    info: \"info about copyright\",\n    value: storyInfo.copyright,\n    onChangeFunc: setStoryInfo,\n    storyInfo: storyInfo,\n    type: \"single\",\n    form: form,\n    rules: [{\n      required: true,\n      message: \"A copyright is required\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    label: \"Summary\",\n    name: \"summary\",\n    rules: [{\n      max: 180,\n      message: \"Your summary cannot exceed 180 characters\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, __jsx(\"textarea\", {\n    rows: \"5\",\n    id: \"summary\",\n    className: \"form-input\",\n    placeholder: \"Summarize your story here\",\n    value: storyInfo.summary,\n    onChange: e => {\n      setStoryInfo(_objectSpread(_objectSpread({}, storyInfo), {}, {\n        summary: e.target.value\n      }));\n      setSummaryCount(e.target.value.length);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  }), __jsx(\"span\", {\n    className: `counter ${summaryCount > 180 ? \"exceed\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, summaryCount, \"/180\"))), __jsx(Row, {\n    justify: \"space-between\",\n    gutter: [24, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    lg: 4,\n    md: 8,\n    sm: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }, __jsx(\"fieldset\", {\n    id: \"mature\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }, __jsx(\"label\", {\n    className: \"title-label\",\n    htmlFor: \"public\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 19\n    }\n  }, \"Mature content\"), __jsx(\"div\", {\n    className: \"radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 19\n    }\n  }, __jsx(Space, {\n    size: 32,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"radio__1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 23\n    }\n  }, __jsx(\"input\", {\n    id: \"radio-1\",\n    type: \"radio\",\n    name: \"mature\",\n    value: true,\n    onChange: () => setStoryInfo(_objectSpread(_objectSpread({}, storyInfo), {}, {\n      mature: true\n    })),\n    checked: storyInfo.mature ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"radio-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 25\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 25\n    }\n  }, \"Yes\")), __jsx(\"div\", {\n    className: \"radio__2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 23\n    }\n  }, __jsx(\"input\", {\n    id: \"radio-2\",\n    type: \"radio\",\n    name: \"mature\",\n    value: false,\n    onChange: () => setStoryInfo(_objectSpread(_objectSpread({}, storyInfo), {}, {\n      mature: false\n    })),\n    checked: storyInfo.mature ? false : true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"radio-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 25\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 25\n    }\n  }, \"No\"))))))), __jsx(Col, {\n    lg: 4,\n    md: 8,\n    sm: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 15\n    }\n  }, __jsx(\"fieldset\", {\n    id: \"public\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 17\n    }\n  }, __jsx(\"label\", {\n    className: \"title-label\",\n    htmlFor: \"public\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 19\n    }\n  }, \"Visibilty\"), __jsx(\"div\", {\n    className: \"radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 19\n    }\n  }, __jsx(Space, {\n    size: 32,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"radio__1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 23\n    }\n  }, __jsx(\"input\", {\n    id: \"radio-3\",\n    type: \"radio\",\n    name: \"public\",\n    value: true,\n    onChange: () => setStoryInfo(_objectSpread(_objectSpread({}, storyInfo), {}, {\n      public: true\n    })),\n    checked: storyInfo.public ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"radio-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 25\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 25\n    }\n  }, \"Public\")), __jsx(\"div\", {\n    className: \"radio__2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 23\n    }\n  }, __jsx(\"input\", {\n    id: \"radio-4\",\n    type: \"radio\",\n    name: \"public\",\n    value: false,\n    onChange: () => setStoryInfo(_objectSpread(_objectSpread({}, storyInfo), {}, {\n      public: false\n    })),\n    checked: storyInfo.public ? false : true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"radio-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 25\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 25\n    }\n  }, \"Private\"))))))), __jsx(Col, {\n    lg: 8,\n    md: 12,\n    sm: 24,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    className: \"title-label\",\n    htmlFor: \"tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 15\n    }\n  }, \"Tags\"), __jsx(Tags, {\n    storyInfo: storyInfo,\n    tags: storyInfo.tags,\n    setTags: setStoryInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 15\n    }\n  }))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 11\n    }\n  }), __jsx(Row, {\n    gutter: [16, 16],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    lg: 12,\n    md: 24,\n    sm: 24,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    label: \"Main Characters\",\n    name: \"mainCharacters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 17\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 19\n    }\n  }, __jsx(Col, {\n    span: 22,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 21\n    }\n  }, __jsx(\"select\", {\n    value: currentChar,\n    disabled: ((_storyInfo$mainCharac = storyInfo.mainCharacters) === null || _storyInfo$mainCharac === void 0 ? void 0 : _storyInfo$mainCharac.length) >= 5 ? true : false,\n    onChange: e => setCurrentChar(e.target.value),\n    className: \"form-input select-add-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 23\n    }\n  }, __jsx(\"option\", {\n    selected: true,\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 25\n    }\n  }, \"Choose\"), (_props$characters = props.characters) === null || _props$characters === void 0 ? void 0 : _props$characters.filter(c => {\n    var _storyInfo$mainCharac2;\n\n    return !((_storyInfo$mainCharac2 = storyInfo.mainCharacters) !== null && _storyInfo$mainCharac2 !== void 0 && _storyInfo$mainCharac2.includes(c.id));\n  }).map(char => __jsx(\"option\", {\n    key: char.id,\n    value: char.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 29\n    }\n  }, `${char.firstname} ${char.lastname}`)))), __jsx(Col, {\n    span: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"form-input select-add-input-iconbox\",\n    onClick: addCharacter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 25\n    }\n  }, \"+\"))), __jsx(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 21\n    }\n  }, \"You can add up to 5 main characters\"))))), __jsx(Col, {\n    lg: 12,\n    md: 24,\n    sm: 24,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 13\n    }\n  }, __jsx(Row, {\n    gutter: [16, 16],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 15\n    }\n  }, props.characters.filter(c => {\n    var _storyInfo$mainCharac3;\n\n    return ((_storyInfo$mainCharac3 = storyInfo.mainCharacters) === null || _storyInfo$mainCharac3 === void 0 ? void 0 : _storyInfo$mainCharac3.indexOf(c.id)) !== -1;\n  }).map(char => __jsx(Col, {\n    md: 12,\n    sm: 24,\n    key: char.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    key: char.id,\n    className: \"main-selected\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"main-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 25\n    }\n  }, __jsx(\"img\", {\n    src: char.image,\n    alt: char.firstname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 27\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 25\n    }\n  }, `${char.firstname} ${char.lastname}`, \" \"), __jsx(\"ion-icon\", {\n    onClick: () => removeCharacter(char.id),\n    name: \"close-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 25\n    }\n  }))))))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 11\n    }\n  }), __jsx(Row, {\n    align: \"bottom\",\n    gutter: [24, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    md: 12,\n    sm: 24,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"banner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 17\n    }\n  }, \"Upload a cover\"), __jsx(UploadImage, {\n    storyInfo: storyInfo,\n    onChangeFunc: setStoryInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 17\n    }\n  }))), __jsx(InputGroup, {\n    required: false,\n    sm: 24,\n    xs: 24,\n    md: 12,\n    lg: 12,\n    id: \"banner\",\n    type: \"text\",\n    name: \"banner\",\n    title: \"Or submit a link to an image\",\n    placeholder: \"\",\n    value: typeof storyInfo.banner !== \"object\" ? storyInfo.banner : \"\",\n    onChangeFunc: setStoryInfo,\n    storyInfo: storyInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 13\n    }\n  })), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 11\n    }\n  }), props.loading || props.storyId ? __jsx(\"button\", {\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 13\n    }\n  }, __jsx(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 15\n    }\n  })) : __jsx(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 13\n    }\n  }, \"Create\")))) : __jsx(Result, {\n    status: \"403\",\n    title: \"403\",\n    subTitle: \"Sorry, you are not authorized to access this page.\",\n    extra: __jsx(Button, {\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 14\n      }\n    }, \"Back Home\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 5\n    }\n  });\n};\n\nconst mapStateToProps = state => ({\n  characters: state.characters.userCharacters,\n  confirmMessage: state.stories.message,\n  storyId: state.stories.storyId,\n  loading: state.stories.loadingStory,\n  story: state.stories.story\n});\n\nexport default connect(mapStateToProps, {\n  getUserCharacters,\n  getStory\n})(EditStory);","map":{"version":3,"sources":["C:/Users/Utilisateur/Documents/CODE/kronikea-master/pages/story/[id]/edit.js"],"names":["React","Row","Col","Space","Divider","Form","Spin","Result","Button","connect","useRouter","CATEGORIES","COPYRIGHTS","LANGUAGES","STATUS","useAuth","getUserCharacters","getStory","InputGroup","SelectGroup","Tags","UploadImage","Loader","EditStory","props","story","storyInfo","setStoryInfo","useState","title","categories","language","status","copyright","summary","mature","public","tags","mainCharacters","banner","imageCopyright","summaryCount","setSummaryCount","length","currentChar","setCurrentChar","auth","form","useForm","router","useEffect","query","id","user","addCharacter","indexOf","removeCharacter","filter","c","submitStory","values","console","log","isLoading","uid","authorId","required","message","max","type","e","target","value","characters","includes","map","char","firstname","lastname","image","loading","storyId","mapStateToProps","state","userCharacters","confirmMessage","stories","loadingStory"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Row, Col, Space, Divider, Form, Spin, Result, Button } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nimport {\r\n  CATEGORIES,\r\n  COPYRIGHTS,\r\n  LANGUAGES,\r\n  STATUS,\r\n} from \"../../../utils/constants\";\r\nimport { useAuth } from \"../../../hooks/userHooks\";\r\nimport { getUserCharacters } from \"../../../redux/actions/charactersActions\";\r\nimport { getStory } from \"../../../redux/actions/storiesActions\";\r\n\r\nimport InputGroup from \"../../../components/common/Input\";\r\nimport SelectGroup from \"../../../components/common/Select\";\r\nimport Tags from \"../../../components/forms/Tags\";\r\nimport UploadImage from \"../../../components/forms/UploadImage\";\r\nimport Loader from \"../../../components/common/Loader\";\r\n\r\nconst EditStory = (props) => {\r\n  const { story } = props;\r\n  const [storyInfo, setStoryInfo] = React.useState({\r\n    title: story.title,\r\n    categories: story.categories,\r\n    language: story.language,\r\n    status: story.status,\r\n    copyright: story.copyright,\r\n    summary: story.summary,\r\n    mature: story.mature,\r\n    public: story.public,\r\n    tags: story.tags,\r\n    mainCharacters: story.mainCharacters,\r\n    banner: story.banner,\r\n    imageCopyright: story.imageCopyright,\r\n  });\r\n  const [summaryCount, setSummaryCount] = React.useState(story.summary.length);\r\n  const [currentChar, setCurrentChar] = React.useState(\"\");\r\n  const auth = useAuth();\r\n  const [form] = Form.useForm();\r\n  const router = useRouter();\r\n\r\n  React.useEffect(() => {\r\n    props.getStory(router.query.id);\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (auth.user) {\r\n      props.getUserCharacters();\r\n    }\r\n  }, [auth]);\r\n\r\n  const addCharacter = () => {\r\n    if (\r\n      currentChar &&\r\n      storyInfo.mainCharacters.indexOf(currentChar) === -1 &&\r\n      storyInfo.mainCharacters.length < 5\r\n    ) {\r\n      setStoryInfo({\r\n        ...storyInfo,\r\n        mainCharacters: [...storyInfo.mainCharacters, currentChar],\r\n      });\r\n    }\r\n    setCurrentChar(\"\");\r\n  };\r\n\r\n  const removeCharacter = (id) => {\r\n    setStoryInfo({\r\n      ...storyInfo,\r\n      mainCharacters: storyInfo.mainCharacters.filter((c) => c !== id),\r\n    });\r\n  };\r\n\r\n  const submitStory = (values) => {\r\n    // props.addStory({\r\n    //   ...values,\r\n    //   authorName: auth.user.username,\r\n    //   banner: storyInfo.banner,\r\n    //   tags: storyInfo.tags,\r\n    //   summary: values.summary ? values.summary : \"\",\r\n    //   imageCopyright: values.imageCopyright ? values.imageCopyright : \"\",\r\n    //   mature: storyInfo.mature,\r\n    //   public: storyInfo.public,\r\n    //   mainCharacters: storyInfo.mainCharacters,\r\n    // });\r\n  };\r\n  console.log(story);\r\n\r\n  return auth.isLoading && !story.title ? (\r\n    <Loader />\r\n  ) : auth.user.uid && story.authorId === auth.user.uid ? (\r\n    <div className=\"new-story custom-form\">\r\n      <div className=\"inner\">\r\n        <h2 className=\"side-heading\">Edit story</h2>\r\n        <Form\r\n          form={form}\r\n          layout=\"vertical\"\r\n          className=\"form-group\"\r\n          onFinish={submitStory}\r\n        >\r\n          <Row gutter={[24, 24]}>\r\n            <InputGroup\r\n              required={true}\r\n              sm={24}\r\n              xs={24}\r\n              md={18}\r\n              lg={18}\r\n              type=\"text\"\r\n              name=\"title\"\r\n              placeholder=\"Enter a title\"\r\n              value={storyInfo.title}\r\n              onChangeFunc={setStoryInfo}\r\n              storyInfo={storyInfo}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"A title is required\",\r\n                },\r\n                { max: 70 },\r\n              ]}\r\n            />\r\n            <SelectGroup\r\n              sm={24}\r\n              xs={24}\r\n              lg={6}\r\n              md={6}\r\n              name=\"categories\"\r\n              options={CATEGORIES}\r\n              value={storyInfo.categories}\r\n              onChangeFunc={setStoryInfo}\r\n              storyInfo={storyInfo}\r\n              type=\"multiple\"\r\n              form={form}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"At least 1 category is required\",\r\n                },\r\n                {\r\n                  max: 2,\r\n                  type: \"array\",\r\n                  message: \"You can only select up to 2 categories\",\r\n                },\r\n              ]}\r\n            />\r\n          </Row>\r\n          <Row gutter={[24, 24]}>\r\n            <SelectGroup\r\n              md={8}\r\n              sm={24}\r\n              xs={24}\r\n              lg={8}\r\n              name=\"language\"\r\n              options={LANGUAGES}\r\n              value={storyInfo.language}\r\n              onChangeFunc={setStoryInfo}\r\n              storyInfo={storyInfo}\r\n              type=\"single\"\r\n              form={form}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"A language is required\",\r\n                },\r\n              ]}\r\n            />\r\n            <SelectGroup\r\n              md={8}\r\n              sm={24}\r\n              xs={24}\r\n              lg={8}\r\n              name=\"status\"\r\n              options={STATUS}\r\n              info={\"info about status\"}\r\n              value={storyInfo.status}\r\n              onChangeFunc={setStoryInfo}\r\n              storyInfo={storyInfo}\r\n              type=\"single\"\r\n              form={form}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"A status is required\",\r\n                },\r\n              ]}\r\n            />\r\n            <SelectGroup\r\n              md={8}\r\n              sm={24}\r\n              xs={24}\r\n              lg={8}\r\n              name=\"copyright\"\r\n              options={COPYRIGHTS}\r\n              info={\"info about copyright\"}\r\n              value={storyInfo.copyright}\r\n              onChangeFunc={setStoryInfo}\r\n              storyInfo={storyInfo}\r\n              type=\"single\"\r\n              form={form}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"A copyright is required\",\r\n                },\r\n              ]}\r\n            />\r\n          </Row>\r\n          <Form.Item\r\n            label=\"Summary\"\r\n            name=\"summary\"\r\n            rules={[\r\n              {\r\n                max: 180,\r\n                message: \"Your summary cannot exceed 180 characters\",\r\n              },\r\n            ]}\r\n          >\r\n            <div className=\"input-group summary\">\r\n              <textarea\r\n                rows=\"5\"\r\n                id=\"summary\"\r\n                className=\"form-input\"\r\n                placeholder=\"Summarize your story here\"\r\n                value={storyInfo.summary}\r\n                onChange={(e) => {\r\n                  setStoryInfo({ ...storyInfo, summary: e.target.value });\r\n                  setSummaryCount(e.target.value.length);\r\n                }}\r\n              ></textarea>\r\n              <span className={`counter ${summaryCount > 180 ? \"exceed\" : \"\"}`}>\r\n                {summaryCount}/180\r\n              </span>\r\n            </div>\r\n          </Form.Item>\r\n          <Row justify=\"space-between\" gutter={[24, 24]}>\r\n            <Col lg={4} md={8} sm={12} xs={24}>\r\n              <div className=\"input-group\">\r\n                <fieldset id=\"mature\">\r\n                  <label className=\"title-label\" htmlFor=\"public\">\r\n                    Mature content\r\n                  </label>\r\n\r\n                  <div className=\"radio\">\r\n                    <Space size={32}>\r\n                      <div className=\"radio__1\">\r\n                        <input\r\n                          id=\"radio-1\"\r\n                          type=\"radio\"\r\n                          name=\"mature\"\r\n                          value={true}\r\n                          onChange={() =>\r\n                            setStoryInfo({\r\n                              ...storyInfo,\r\n                              mature: true,\r\n                            })\r\n                          }\r\n                          checked={storyInfo.mature ? true : false}\r\n                        />\r\n                        <label htmlFor=\"radio-1\"></label>\r\n                        <p>Yes</p>\r\n                      </div>\r\n\r\n                      <div className=\"radio__2\">\r\n                        <input\r\n                          id=\"radio-2\"\r\n                          type=\"radio\"\r\n                          name=\"mature\"\r\n                          value={false}\r\n                          onChange={() =>\r\n                            setStoryInfo({\r\n                              ...storyInfo,\r\n                              mature: false,\r\n                            })\r\n                          }\r\n                          checked={storyInfo.mature ? false : true}\r\n                        />\r\n                        <label htmlFor=\"radio-2\"></label>\r\n                        <p>No</p>\r\n                      </div>\r\n                    </Space>\r\n                  </div>\r\n                </fieldset>\r\n              </div>\r\n            </Col>\r\n            <Col lg={4} md={8} sm={12} xs={24}>\r\n              <div className=\"input-group\">\r\n                <fieldset id=\"public\">\r\n                  <label className=\"title-label\" htmlFor=\"public\">\r\n                    Visibilty\r\n                  </label>\r\n                  <div className=\"radio\">\r\n                    <Space size={32}>\r\n                      <div className=\"radio__1\">\r\n                        <input\r\n                          id=\"radio-3\"\r\n                          type=\"radio\"\r\n                          name=\"public\"\r\n                          value={true}\r\n                          onChange={() =>\r\n                            setStoryInfo({\r\n                              ...storyInfo,\r\n                              public: true,\r\n                            })\r\n                          }\r\n                          checked={storyInfo.public ? true : false}\r\n                        />\r\n                        <label htmlFor=\"radio-3\"></label>\r\n                        <p>Public</p>\r\n                      </div>\r\n\r\n                      <div className=\"radio__2\">\r\n                        <input\r\n                          id=\"radio-4\"\r\n                          type=\"radio\"\r\n                          name=\"public\"\r\n                          value={false}\r\n                          onChange={() =>\r\n                            setStoryInfo({\r\n                              ...storyInfo,\r\n                              public: false,\r\n                            })\r\n                          }\r\n                          checked={storyInfo.public ? false : true}\r\n                        />\r\n                        <label htmlFor=\"radio-4\"></label>\r\n                        <p>Private</p>\r\n                      </div>\r\n                    </Space>\r\n                  </div>\r\n                </fieldset>\r\n              </div>\r\n            </Col>\r\n\r\n            <Col lg={8} md={12} sm={24} xs={24}>\r\n              <label className=\"title-label\" htmlFor=\"tags\">\r\n                Tags\r\n              </label>\r\n              <Tags\r\n                storyInfo={storyInfo}\r\n                tags={storyInfo.tags}\r\n                setTags={setStoryInfo}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Divider />\r\n          <Row gutter={[16, 16]}>\r\n            <Col lg={12} md={24} sm={24} xs={24}>\r\n              <Form.Item label=\"Main Characters\" name=\"mainCharacters\">\r\n                <div className=\"input-group\">\r\n                  <Row>\r\n                    <Col span={22}>\r\n                      <select\r\n                        value={currentChar}\r\n                        disabled={\r\n                          storyInfo.mainCharacters?.length >= 5 ? true : false\r\n                        }\r\n                        onChange={(e) => setCurrentChar(e.target.value)}\r\n                        className=\"form-input select-add-input\"\r\n                      >\r\n                        <option selected value=\"\" disabled>\r\n                          Choose\r\n                        </option>\r\n                        {props.characters\r\n                          ?.filter(\r\n                            (c) => !storyInfo.mainCharacters?.includes(c.id)\r\n                          )\r\n                          .map((char) => (\r\n                            <option\r\n                              key={char.id}\r\n                              value={char.id}\r\n                            >{`${char.firstname} ${char.lastname}`}</option>\r\n                          ))}\r\n                      </select>\r\n                    </Col>\r\n                    <Col span={2}>\r\n                      <div\r\n                        className=\"form-input select-add-input-iconbox\"\r\n                        onClick={addCharacter}\r\n                      >\r\n                        <span>+</span>\r\n                      </div>\r\n                    </Col>\r\n                    <small>You can add up to 5 main characters</small>\r\n                  </Row>\r\n                </div>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={12} md={24} sm={24} xs={24}>\r\n              <Row gutter={[16, 16]}>\r\n                {props.characters\r\n                  .filter((c) => storyInfo.mainCharacters?.indexOf(c.id) !== -1)\r\n                  .map((char) => (\r\n                    <Col md={12} sm={24} key={char.id}>\r\n                      <div key={char.id} className=\"main-selected\">\r\n                        <div className=\"main-avatar\">\r\n                          <img src={char.image} alt={char.firstname} />\r\n                        </div>\r\n                        <p>{`${char.firstname} ${char.lastname}`} </p>\r\n                        <ion-icon\r\n                          onClick={() => removeCharacter(char.id)}\r\n                          name=\"close-circle\"\r\n                        ></ion-icon>\r\n                      </div>\r\n                    </Col>\r\n                  ))}\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n          <Divider />\r\n          <Row align=\"bottom\" gutter={[24, 24]}>\r\n            <Col md={12} sm={24} xs={24}>\r\n              <div className=\"input-group\">\r\n                <label htmlFor=\"banner\">Upload a cover</label>\r\n                <UploadImage\r\n                  storyInfo={storyInfo}\r\n                  onChangeFunc={setStoryInfo}\r\n                />\r\n              </div>\r\n            </Col>\r\n\r\n            <InputGroup\r\n              required={false}\r\n              sm={24}\r\n              xs={24}\r\n              md={12}\r\n              lg={12}\r\n              id=\"banner\"\r\n              type=\"text\"\r\n              name=\"banner\"\r\n              title=\"Or submit a link to an image\"\r\n              placeholder=\"\"\r\n              value={\r\n                typeof storyInfo.banner !== \"object\" ? storyInfo.banner : \"\"\r\n              }\r\n              onChangeFunc={setStoryInfo}\r\n              storyInfo={storyInfo}\r\n            />\r\n          </Row>\r\n          <Divider />\r\n          {props.loading || props.storyId ? (\r\n            <button disabled>\r\n              <Spin />\r\n            </button>\r\n          ) : (\r\n            <button type=\"submit\">Create</button>\r\n          )}\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <Result\r\n      status=\"403\"\r\n      title=\"403\"\r\n      subTitle=\"Sorry, you are not authorized to access this page.\"\r\n      extra={<Button type=\"primary\">Back Home</Button>}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  characters: state.characters.userCharacters,\r\n  confirmMessage: state.stories.message,\r\n  storyId: state.stories.storyId,\r\n  loading: state.stories.loadingStory,\r\n  story: state.stories.story,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUserCharacters, getStory })(\r\n  EditStory\r\n);\r\n"]},"metadata":{},"sourceType":"module"}